/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./colorpicker/colorpicker.js":
/*!************************************!*\
  !*** ./colorpicker/colorpicker.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ColorPicker)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar events = { exports: {} };\nvar R = typeof Reflect === \"object\" ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === \"function\" ? R.apply : function ReflectApply2(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\nif (R && typeof R.ownKeys === \"function\") {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys2(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys2(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN2(value) {\n  return value !== value;\n};\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nevents.exports = EventEmitter;\nevents.exports.once = once2;\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = void 0;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = void 0;\nvar defaultMaxListeners = 10;\nfunction checkListener(listener) {\n  if (typeof listener !== \"function\") {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\nObject.defineProperty(EventEmitter, \"defaultMaxListeners\", {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== \"number\" || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + \".\");\n    }\n    defaultMaxListeners = arg;\n  }\n});\nEventEmitter.init = function() {\n  if (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = /* @__PURE__ */ Object.create(null);\n    this._eventsCount = 0;\n  }\n  this._maxListeners = this._maxListeners || void 0;\n};\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== \"number\" || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + \".\");\n  }\n  this._maxListeners = n;\n  return this;\n};\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === void 0)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = type === \"error\";\n  var events2 = this._events;\n  if (events2 !== void 0)\n    doError = doError && events2.error === void 0;\n  else if (!doError)\n    return false;\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      throw er;\n    }\n    var err = new Error(\"Unhandled error.\" + (er ? \" (\" + er.message + \")\" : \"\"));\n    err.context = er;\n    throw err;\n  }\n  var handler = events2[type];\n  if (handler === void 0)\n    return false;\n  if (typeof handler === \"function\") {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners2 = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners2[i], this, args);\n  }\n  return true;\n};\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events2;\n  var existing;\n  checkListener(listener);\n  events2 = target._events;\n  if (events2 === void 0) {\n    events2 = target._events = /* @__PURE__ */ Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    if (events2.newListener !== void 0) {\n      target.emit(\n        \"newListener\",\n        type,\n        listener.listener ? listener.listener : listener\n      );\n      events2 = target._events;\n    }\n    existing = events2[type];\n  }\n  if (existing === void 0) {\n    existing = events2[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === \"function\") {\n      existing = events2[type] = prepend ? [listener, existing] : [existing, listener];\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      var w = new Error(\"Possible EventEmitter memory leak detected. \" + existing.length + \" \" + String(type) + \" listeners added. Use emitter.setMaxListeners() to increase limit\");\n      w.name = \"MaxListenersExceededWarning\";\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n  return target;\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: void 0, target, type, listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n};\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events2, position, i, originalListener;\n  checkListener(listener);\n  events2 = this._events;\n  if (events2 === void 0)\n    return this;\n  list = events2[type];\n  if (list === void 0)\n    return this;\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0)\n      this._events = /* @__PURE__ */ Object.create(null);\n    else {\n      delete events2[type];\n      if (events2.removeListener)\n        this.emit(\"removeListener\", type, list.listener || listener);\n    }\n  } else if (typeof list !== \"function\") {\n    position = -1;\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n    if (position < 0)\n      return this;\n    if (position === 0)\n      list.shift();\n    else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1)\n      events2[type] = list[0];\n    if (events2.removeListener !== void 0)\n      this.emit(\"removeListener\", type, originalListener || listener);\n  }\n  return this;\n};\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners2, events2, i;\n  events2 = this._events;\n  if (events2 === void 0)\n    return this;\n  if (events2.removeListener === void 0) {\n    if (arguments.length === 0) {\n      this._events = /* @__PURE__ */ Object.create(null);\n      this._eventsCount = 0;\n    } else if (events2[type] !== void 0) {\n      if (--this._eventsCount === 0)\n        this._events = /* @__PURE__ */ Object.create(null);\n      else\n        delete events2[type];\n    }\n    return this;\n  }\n  if (arguments.length === 0) {\n    var keys = Object.keys(events2);\n    var key;\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === \"removeListener\") continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners(\"removeListener\");\n    this._events = /* @__PURE__ */ Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n  listeners2 = events2[type];\n  if (typeof listeners2 === \"function\") {\n    this.removeListener(type, listeners2);\n  } else if (listeners2 !== void 0) {\n    for (i = listeners2.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners2[i]);\n    }\n  }\n  return this;\n};\nfunction _listeners(target, type, unwrap) {\n  var events2 = target._events;\n  if (events2 === void 0)\n    return [];\n  var evlistener = events2[type];\n  if (evlistener === void 0)\n    return [];\n  if (typeof evlistener === \"function\")\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === \"function\") {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events2 = this._events;\n  if (events2 !== void 0) {\n    var evlistener = events2[type];\n    if (typeof evlistener === \"function\") {\n      return 1;\n    } else if (evlistener !== void 0) {\n      return evlistener.length;\n    }\n  }\n  return 0;\n}\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\nfunction once2(emitter, name) {\n  return new Promise(function(resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n    function resolver() {\n      if (typeof emitter.removeListener === \"function\") {\n        emitter.removeListener(\"error\", errorListener);\n      }\n      resolve([].slice.call(arguments));\n    }\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== \"error\") {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === \"function\") {\n    eventTargetAgnosticAddListener(emitter, \"error\", handler, flags);\n  }\n}\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === \"function\") {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === \"function\") {\n    emitter.addEventListener(name, function wrapListener(arg) {\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\nvar eventsExports = events.exports;\nconst EventEmitter$1 = /* @__PURE__ */ getDefaultExportFromCjs(eventsExports);\nvar top = \"top\";\nvar bottom = \"bottom\";\nvar right = \"right\";\nvar left = \"left\";\nvar auto = \"auto\";\nvar basePlacements = [top, bottom, right, left];\nvar start = \"start\";\nvar end = \"end\";\nvar clippingParents = \"clippingParents\";\nvar viewport = \"viewport\";\nvar popper = \"popper\";\nvar reference = \"reference\";\nvar variationPlacements = /* @__PURE__ */ basePlacements.reduce(function(acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nvar placements = /* @__PURE__ */ [].concat(basePlacements, [auto]).reduce(function(acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nvar beforeRead = \"beforeRead\";\nvar read = \"read\";\nvar afterRead = \"afterRead\";\nvar beforeMain = \"beforeMain\";\nvar main = \"main\";\nvar afterMain = \"afterMain\";\nvar beforeWrite = \"beforeWrite\";\nvar write = \"write\";\nvar afterWrite = \"afterWrite\";\nvar modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\nfunction getNodeName(element) {\n  return element ? (element.nodeName || \"\").toLowerCase() : null;\n}\nfunction getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n  if (node.toString() !== \"[object Window]\") {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n  return node;\n}\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\nfunction isShadowRoot(node) {\n  if (typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function(name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name];\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    }\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function(name2) {\n      var value = attributes[name2];\n      if (value === false) {\n        element.removeAttribute(name2);\n      } else {\n        element.setAttribute(name2, value === true ? \"\" : value);\n      }\n    });\n  });\n}\nfunction effect$2(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: \"0\",\n      top: \"0\",\n      margin: \"0\"\n    },\n    arrow: {\n      position: \"absolute\"\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n  return function() {\n    Object.keys(state.elements).forEach(function(name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]);\n      var style = styleProperties.reduce(function(style2, property) {\n        style2[property] = \"\";\n        return style2;\n      }, {});\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function(attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n}\nconst applyStyles$1 = {\n  name: \"applyStyles\",\n  enabled: true,\n  phase: \"write\",\n  fn: applyStyles,\n  effect: effect$2,\n  requires: [\"computeStyles\"]\n};\nfunction getBasePlacement(placement) {\n  return placement.split(\"-\")[0];\n}\nvar max = Math.max;\nvar min = Math.min;\nvar round = Math.round;\nfunction getUAString() {\n  var uaData = navigator.userAgentData;\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function(item) {\n      return item.brand + \"/\" + item.version;\n    }).join(\" \");\n  }\n  return navigator.userAgent;\n}\nfunction isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n  var _ref = isElement(element) ? getWindow(element) : window, visualViewport = _ref.visualViewport;\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y\n  };\n}\nfunction getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element);\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width,\n    height\n  };\n}\nfunction contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode();\n  if (parent.contains(child)) {\n    return true;\n  } else if (rootNode && isShadowRoot(rootNode)) {\n    var next = child;\n    do {\n      if (next && parent.isSameNode(next)) {\n        return true;\n      }\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n  return false;\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].indexOf(getNodeName(element)) >= 0;\n}\nfunction getDocumentElement(element) {\n  return ((isElement(element) ? element.ownerDocument : (\n    // $FlowFixMe[prop-missing]\n    element.document\n  )) || window.document).documentElement;\n}\nfunction getParentNode(element) {\n  if (getNodeName(element) === \"html\") {\n    return element;\n  }\n  return (\n    // this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    (isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element)\n  );\n}\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  return element.offsetParent;\n}\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n  if (isIE && isHTMLElement(element)) {\n    var elementCss = getComputedStyle$1(element);\n    if (elementCss.position === \"fixed\") {\n      return null;\n    }\n  }\n  var currentNode = getParentNode(element);\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n  while (isHTMLElement(currentNode) && [\"html\", \"body\"].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle$1(currentNode);\n    if (css.transform !== \"none\" || css.perspective !== \"none\" || css.contain === \"paint\" || [\"transform\", \"perspective\"].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === \"filter\" || isFirefox && css.filter && css.filter !== \"none\") {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n  return null;\n}\nfunction getOffsetParent(element) {\n  var window2 = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === \"static\") {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === \"html\" || getNodeName(offsetParent) === \"body\" && getComputedStyle$1(offsetParent).position === \"static\")) {\n    return window2;\n  }\n  return offsetParent || getContainingBlock(element) || window2;\n}\nfunction getMainAxisFromPlacement(placement) {\n  return [\"top\", \"bottom\"].indexOf(placement) >= 0 ? \"x\" : \"y\";\n}\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\nfunction withinMaxClamp(min2, value, max2) {\n  var v = within(min2, value, max2);\n  return v > max2 ? max2 : v;\n}\nfunction getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}\nfunction mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}\nfunction expandToHashMap(value, keys) {\n  return keys.reduce(function(hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\nvar toPaddingObject = function toPaddingObject2(padding, state) {\n  padding = typeof padding === \"function\" ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== \"number\" ? padding : expandToHashMap(padding, basePlacements));\n};\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n  var state = _ref.state, name = _ref.name, options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets2 = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? \"height\" : \"width\";\n  if (!arrowElement || !popperOffsets2) {\n    return;\n  }\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === \"y\" ? top : left;\n  var maxProp = axis === \"y\" ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets2[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets2[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === \"y\" ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2;\n  var min2 = paddingObject[minProp];\n  var max2 = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset2 = within(min2, center, max2);\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset2, _state$modifiersData$.centerOffset = offset2 - center, _state$modifiersData$);\n}\nfunction effect$1(_ref2) {\n  var state = _ref2.state, options = _ref2.options;\n  var _options$element = options.element, arrowElement = _options$element === void 0 ? \"[data-popper-arrow]\" : _options$element;\n  if (arrowElement == null) {\n    return;\n  }\n  if (typeof arrowElement === \"string\") {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n    if (!arrowElement) {\n      return;\n    }\n  }\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n  state.elements.arrow = arrowElement;\n}\nconst arrow$1 = {\n  name: \"arrow\",\n  enabled: true,\n  phase: \"main\",\n  fn: arrow,\n  effect: effect$1,\n  requires: [\"popperOffsets\"],\n  requiresIfExists: [\"preventOverflow\"]\n};\nfunction getVariation(placement) {\n  return placement.split(\"-\")[1];\n}\nvar unsetSides = {\n  top: \"auto\",\n  right: \"auto\",\n  bottom: \"auto\",\n  left: \"auto\"\n};\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x, y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\nfunction mapToStyles(_ref2) {\n  var _Object$assign2;\n  var popper2 = _ref2.popper, popperRect = _ref2.popperRect, placement = _ref2.placement, variation = _ref2.variation, offsets = _ref2.offsets, position = _ref2.position, gpuAcceleration = _ref2.gpuAcceleration, adaptive = _ref2.adaptive, roundOffsets = _ref2.roundOffsets, isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x, x = _offsets$x === void 0 ? 0 : _offsets$x, _offsets$y = offsets.y, y = _offsets$y === void 0 ? 0 : _offsets$y;\n  var _ref3 = typeof roundOffsets === \"function\" ? roundOffsets({\n    x,\n    y\n  }) : {\n    x,\n    y\n  };\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty(\"x\");\n  var hasY = offsets.hasOwnProperty(\"y\");\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper2);\n    var heightProp = \"clientHeight\";\n    var widthProp = \"clientWidth\";\n    if (offsetParent === getWindow(popper2)) {\n      offsetParent = getDocumentElement(popper2);\n      if (getComputedStyle$1(offsetParent).position !== \"static\" && position === \"absolute\") {\n        heightProp = \"scrollHeight\";\n        widthProp = \"scrollWidth\";\n      }\n    }\n    offsetParent = offsetParent;\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : (\n        // $FlowFixMe[prop-missing]\n        offsetParent[heightProp]\n      );\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : (\n        // $FlowFixMe[prop-missing]\n        offsetParent[widthProp]\n      );\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n  var commonStyles = Object.assign({\n    position\n  }, adaptive && unsetSides);\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x,\n    y\n  }, getWindow(popper2)) : {\n    x,\n    y\n  };\n  x = _ref4.x;\n  y = _ref4.y;\n  if (gpuAcceleration) {\n    var _Object$assign;\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? \"0\" : \"\", _Object$assign[sideX] = hasX ? \"0\" : \"\", _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : \"\", _Object$assign2[sideX] = hasX ? x + \"px\" : \"\", _Object$assign2.transform = \"\", _Object$assign2));\n}\nfunction computeStyles(_ref5) {\n  var state = _ref5.state, options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration, gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat, _options$adaptive = options.adaptive, adaptive = _options$adaptive === void 0 ? true : _options$adaptive, _options$roundOffsets = options.roundOffsets, roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration,\n    isFixed: state.options.strategy === \"fixed\"\n  };\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive,\n      roundOffsets\n    })));\n  }\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: \"absolute\",\n      adaptive: false,\n      roundOffsets\n    })));\n  }\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    \"data-popper-placement\": state.placement\n  });\n}\nconst computeStyles$1 = {\n  name: \"computeStyles\",\n  enabled: true,\n  phase: \"beforeWrite\",\n  fn: computeStyles,\n  data: {}\n};\nvar passive = {\n  passive: true\n};\nfunction effect(_ref) {\n  var state = _ref.state, instance = _ref.instance, options = _ref.options;\n  var _options$scroll = options.scroll, scroll = _options$scroll === void 0 ? true : _options$scroll, _options$resize = options.resize, resize = _options$resize === void 0 ? true : _options$resize;\n  var window2 = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n  if (scroll) {\n    scrollParents.forEach(function(scrollParent) {\n      scrollParent.addEventListener(\"scroll\", instance.update, passive);\n    });\n  }\n  if (resize) {\n    window2.addEventListener(\"resize\", instance.update, passive);\n  }\n  return function() {\n    if (scroll) {\n      scrollParents.forEach(function(scrollParent) {\n        scrollParent.removeEventListener(\"scroll\", instance.update, passive);\n      });\n    }\n    if (resize) {\n      window2.removeEventListener(\"resize\", instance.update, passive);\n    }\n  };\n}\nconst eventListeners = {\n  name: \"eventListeners\",\n  enabled: true,\n  phase: \"write\",\n  fn: function fn() {\n  },\n  effect,\n  data: {}\n};\nvar hash$1 = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function(matched) {\n    return hash$1[matched];\n  });\n}\nvar hash = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function(matched) {\n    return hash[matched];\n  });\n}\nfunction getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft,\n    scrollTop\n  };\n}\nfunction getWindowScrollBarX(element) {\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}\nfunction getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n    if (layoutViewport || !layoutViewport && strategy === \"fixed\") {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x: x + getWindowScrollBarX(element),\n    y\n  };\n}\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n  if (getComputedStyle$1(body || html).direction === \"rtl\") {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction isScrollParent(element) {\n  var _getComputedStyle = getComputedStyle$1(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY;\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\nfunction getScrollParent(node) {\n  if ([\"html\", \"body\", \"#document\"].indexOf(getNodeName(node)) >= 0) {\n    return node.ownerDocument.body;\n  }\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n  return getScrollParent(getParentNode(node));\n}\nfunction listScrollParents(element, list) {\n  var _element$ownerDocumen;\n  if (list === void 0) {\n    list = [];\n  }\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : (\n    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n    updatedList.concat(listScrollParents(getParentNode(target)))\n  );\n}\nfunction rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === \"fixed\");\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n}\nfunction getClippingParents(element) {\n  var clippingParents2 = listScrollParents(getParentNode(element));\n  var canEscapeClipping = [\"absolute\", \"fixed\"].indexOf(getComputedStyle$1(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n  if (!isElement(clipperElement)) {\n    return [];\n  }\n  return clippingParents2.filter(function(clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== \"body\";\n  });\n}\nfunction getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === \"clippingParents\" ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents2 = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents2[0];\n  var clippingRect = clippingParents2.reduce(function(accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}\nfunction computeOffsets(_ref) {\n  var reference2 = _ref.reference, element = _ref.element, placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference2.x + reference2.width / 2 - element.width / 2;\n  var commonY = reference2.y + reference2.height / 2 - element.height / 2;\n  var offsets;\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference2.y - element.height\n      };\n      break;\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference2.y + reference2.height\n      };\n      break;\n    case right:\n      offsets = {\n        x: reference2.x + reference2.width,\n        y: commonY\n      };\n      break;\n    case left:\n      offsets = {\n        x: reference2.x - element.width,\n        y: commonY\n      };\n      break;\n    default:\n      offsets = {\n        x: reference2.x,\n        y: reference2.y\n      };\n  }\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n  if (mainAxis != null) {\n    var len = mainAxis === \"y\" ? \"height\" : \"width\";\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference2[len] / 2 - element[len] / 2);\n        break;\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference2[len] / 2 - element[len] / 2);\n        break;\n    }\n  }\n  return offsets;\n}\nfunction detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var _options = options, _options$placement = _options.placement, placement = _options$placement === void 0 ? state.placement : _options$placement, _options$strategy = _options.strategy, strategy = _options$strategy === void 0 ? state.strategy : _options$strategy, _options$boundary = _options.boundary, boundary = _options$boundary === void 0 ? clippingParents : _options$boundary, _options$rootBoundary = _options.rootBoundary, rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary, _options$elementConte = _options.elementContext, elementContext = _options$elementConte === void 0 ? popper : _options$elementConte, _options$altBoundary = _options.altBoundary, altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary, _options$padding = _options.padding, padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== \"number\" ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets2 = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: \"absolute\",\n    placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets2));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect;\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset;\n  if (elementContext === popper && offsetData) {\n    var offset2 = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function(key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? \"y\" : \"x\";\n      overflowOffsets[key] += offset2[axis] * multiply;\n    });\n  }\n  return overflowOffsets;\n}\nfunction computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var _options = options, placement = _options.placement, boundary = _options.boundary, rootBoundary = _options.rootBoundary, padding = _options.padding, flipVariations = _options.flipVariations, _options$allowedAutoP = _options.allowedAutoPlacements, allowedAutoPlacements = _options$allowedAutoP === void 0 ? placements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements$1 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function(placement2) {\n    return getVariation(placement2) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements$1.filter(function(placement2) {\n    return allowedAutoPlacements.indexOf(placement2) >= 0;\n  });\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements$1;\n  }\n  var overflows = allowedPlacements.reduce(function(acc, placement2) {\n    acc[placement2] = detectOverflow(state, {\n      placement: placement2,\n      boundary,\n      rootBoundary,\n      padding\n    })[getBasePlacement(placement2)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function(a, b) {\n    return overflows[a] - overflows[b];\n  });\n}\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\nfunction flip(_ref) {\n  var state = _ref.state, options = _ref.options, name = _ref.name;\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n  var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis, specifiedFallbackPlacements = options.fallbackPlacements, padding = options.padding, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, _options$flipVariatio = options.flipVariations, flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio, allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements2 = [preferredPlacement].concat(fallbackPlacements).reduce(function(acc, placement2) {\n    return acc.concat(getBasePlacement(placement2) === auto ? computeAutoPlacement(state, {\n      placement: placement2,\n      boundary,\n      rootBoundary,\n      padding,\n      flipVariations,\n      allowedAutoPlacements\n    }) : placement2);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = /* @__PURE__ */ new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements2[0];\n  for (var i = 0; i < placements2.length; i++) {\n    var placement = placements2[i];\n    var _basePlacement = getBasePlacement(placement);\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? \"width\" : \"height\";\n    var overflow = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      altBoundary,\n      padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n    if (checks.every(function(check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n    checksMap.set(placement, checks);\n  }\n  if (makeFallbackChecks) {\n    var numberOfChecks = flipVariations ? 3 : 1;\n    var _loop = function _loop2(_i2) {\n      var fittingPlacement = placements2.find(function(placement2) {\n        var checks2 = checksMap.get(placement2);\n        if (checks2) {\n          return checks2.slice(0, _i2).every(function(check) {\n            return check;\n          });\n        }\n      });\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n      if (_ret === \"break\") break;\n    }\n  }\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n}\nconst flip$1 = {\n  name: \"flip\",\n  enabled: true,\n  phase: \"main\",\n  fn: flip,\n  requiresIfExists: [\"offset\"],\n  data: {\n    _skip: false\n  }\n};\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function(side) {\n    return overflow[side] >= 0;\n  });\n}\nfunction hide(_ref) {\n  var state = _ref.state, name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: \"reference\"\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets,\n    popperEscapeOffsets,\n    isReferenceHidden,\n    hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    \"data-popper-reference-hidden\": isReferenceHidden,\n    \"data-popper-escaped\": hasPopperEscaped\n  });\n}\nconst hide$1 = {\n  name: \"hide\",\n  enabled: true,\n  phase: \"main\",\n  requiresIfExists: [\"preventOverflow\"],\n  fn: hide\n};\nfunction distanceAndSkiddingToXY(placement, rects, offset2) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n  var _ref = typeof offset2 === \"function\" ? offset2(Object.assign({}, rects, {\n    placement\n  })) : offset2, skidding = _ref[0], distance = _ref[1];\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\nfunction offset(_ref2) {\n  var state = _ref2.state, options = _ref2.options, name = _ref2.name;\n  var _options$offset = options.offset, offset2 = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function(acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset2);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement], x = _data$state$placement.x, y = _data$state$placement.y;\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n  state.modifiersData[name] = data;\n}\nconst offset$1 = {\n  name: \"offset\",\n  enabled: true,\n  phase: \"main\",\n  requires: [\"popperOffsets\"],\n  fn: offset\n};\nfunction popperOffsets(_ref) {\n  var state = _ref.state, name = _ref.name;\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: \"absolute\",\n    placement: state.placement\n  });\n}\nconst popperOffsets$1 = {\n  name: \"popperOffsets\",\n  enabled: true,\n  phase: \"read\",\n  fn: popperOffsets,\n  data: {}\n};\nfunction getAltAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction preventOverflow(_ref) {\n  var state = _ref.state, options = _ref.options, name = _ref.name;\n  var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, padding = options.padding, _options$tether = options.tether, tether = _options$tether === void 0 ? true : _options$tether, _options$tetherOffset = options.tetherOffset, tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary,\n    rootBoundary,\n    padding,\n    altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets2 = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === \"function\" ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === \"number\" ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n  if (!popperOffsets2) {\n    return;\n  }\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n    var mainSide = mainAxis === \"y\" ? top : left;\n    var altSide = mainAxis === \"y\" ? bottom : right;\n    var len = mainAxis === \"y\" ? \"height\" : \"width\";\n    var offset2 = popperOffsets2[mainAxis];\n    var min$1 = offset2 + overflow[mainSide];\n    var max$1 = offset2 - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len];\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData[\"arrow#persistent\"] ? state.modifiersData[\"arrow#persistent\"].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide];\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === \"y\" ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset2 + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset2 + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? min(min$1, tetherMin) : min$1, offset2, tether ? max(max$1, tetherMax) : max$1);\n    popperOffsets2[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset2;\n  }\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n    var _mainSide = mainAxis === \"x\" ? top : left;\n    var _altSide = mainAxis === \"x\" ? bottom : right;\n    var _offset = popperOffsets2[altAxis];\n    var _len = altAxis === \"y\" ? \"height\" : \"width\";\n    var _min = _offset + overflow[_mainSide];\n    var _max = _offset - overflow[_altSide];\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n    popperOffsets2[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n  state.modifiersData[name] = data;\n}\nconst preventOverflow$1 = {\n  name: \"preventOverflow\",\n  enabled: true,\n  phase: \"main\",\n  fn: preventOverflow,\n  requiresIfExists: [\"offset\"]\n};\nfunction getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\nfunction getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n}\nfunction getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction order(modifiers) {\n  var map = /* @__PURE__ */ new Map();\n  var visited = /* @__PURE__ */ new Set();\n  var result = [];\n  modifiers.forEach(function(modifier) {\n    map.set(modifier.name, modifier);\n  });\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function(dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n  modifiers.forEach(function(modifier) {\n    if (!visited.has(modifier.name)) {\n      sort(modifier);\n    }\n  });\n  return result;\n}\nfunction orderModifiers(modifiers) {\n  var orderedModifiers = order(modifiers);\n  return modifierPhases.reduce(function(acc, phase) {\n    return acc.concat(orderedModifiers.filter(function(modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}\nfunction debounce(fn2) {\n  var pending;\n  return function() {\n    if (!pending) {\n      pending = new Promise(function(resolve) {\n        Promise.resolve().then(function() {\n          pending = void 0;\n          resolve(fn2());\n        });\n      });\n    }\n    return pending;\n  };\n}\nfunction mergeByName(modifiers) {\n  var merged = modifiers.reduce(function(merged2, current) {\n    var existing = merged2[current.name];\n    merged2[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged2;\n  }, {});\n  return Object.keys(merged).map(function(key) {\n    return merged[key];\n  });\n}\nvar DEFAULT_OPTIONS = {\n  placement: \"bottom\",\n  modifiers: [],\n  strategy: \"absolute\"\n};\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return !args.some(function(element) {\n    return !(element && typeof element.getBoundingClientRect === \"function\");\n  });\n}\nfunction popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n  var _generatorOptions = generatorOptions, _generatorOptions$def = _generatorOptions.defaultModifiers, defaultModifiers2 = _generatorOptions$def === void 0 ? [] : _generatorOptions$def, _generatorOptions$def2 = _generatorOptions.defaultOptions, defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper2(reference2, popper2, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n    var state = {\n      placement: \"bottom\",\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference2,\n        popper: popper2\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options2 = typeof setOptionsAction === \"function\" ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options2);\n        state.scrollParents = {\n          reference: isElement(reference2) ? listScrollParents(reference2) : reference2.contextElement ? listScrollParents(reference2.contextElement) : [],\n          popper: listScrollParents(popper2)\n        };\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers2, state.options.modifiers)));\n        state.orderedModifiers = orderedModifiers.filter(function(m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n        var _state$elements = state.elements, reference3 = _state$elements.reference, popper3 = _state$elements.popper;\n        if (!areValidElements(reference3, popper3)) {\n          return;\n        }\n        state.rects = {\n          reference: getCompositeRect(reference3, getOffsetParent(popper3), state.options.strategy === \"fixed\"),\n          popper: getLayoutRect(popper3)\n        };\n        state.reset = false;\n        state.placement = state.options.placement;\n        state.orderedModifiers.forEach(function(modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n          var _state$orderedModifie = state.orderedModifiers[index], fn2 = _state$orderedModifie.fn, _state$orderedModifie2 = _state$orderedModifie.options, _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2, name = _state$orderedModifie.name;\n          if (typeof fn2 === \"function\") {\n            state = fn2({\n              state,\n              options: _options,\n              name,\n              instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function() {\n        return new Promise(function(resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n    if (!areValidElements(reference2, popper2)) {\n      return instance;\n    }\n    instance.setOptions(options).then(function(state2) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state2);\n      }\n    });\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function(_ref) {\n        var name = _ref.name, _ref$options = _ref.options, options2 = _ref$options === void 0 ? {} : _ref$options, effect2 = _ref.effect;\n        if (typeof effect2 === \"function\") {\n          var cleanupFn = effect2({\n            state,\n            name,\n            instance,\n            options: options2\n          });\n          var noopFn = function noopFn2() {\n          };\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function(fn2) {\n        return fn2();\n      });\n      effectCleanupFns = [];\n    }\n    return instance;\n  };\n}\nvar defaultModifiers = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1, offset$1, flip$1, preventOverflow$1, arrow$1, hide$1];\nvar createPopper = /* @__PURE__ */ popperGenerator({\n  defaultModifiers\n});\nconst rgb2hsv = ([r, g, b, a]) => {\n  const v = Math.max(r, g, b);\n  const c = v - Math.min(r, g, b);\n  const h = c && (v == r ? (g - b) / c : v == g ? 2 + (b - r) / c : 4 + (r - g) / c);\n  return [60 * (h < 0 ? h + 6 : h), v && c / v, v, a];\n};\nconst strip = (input) => input.replace(/[^0-9%.,]/g, \"\").split(\",\").map((v) => parseFloat(v) / (v.endsWith(\"%\") ? 100 : 1));\nconst parseCSS = (input) => {\n  const $el = document.createElement(\"span\");\n  $el.style.display = \"none\";\n  $el.style.color = input;\n  document.body.append($el);\n  const { color } = getComputedStyle($el);\n  $el.remove();\n  if (!color) return null;\n  const [r, g, b, a] = strip(color);\n  return rgb2hsv([r / 255, g / 255, b / 255, a]);\n};\nconst parseHSV = (input) => {\n  const color = strip(input).map((v, i) => Math.min(v, i ? 1 : 255));\n  if (color.length < 3 || color.some((v) => isNaN(v))) return null;\n  return color;\n};\nconst parseColor = (input) => {\n  let format;\n  if (/^hsva?\\(/i.test(input)) format = \"hsv\";\n  else if (/^hsla?\\(/i.test(input)) format = \"hsl\";\n  else if (/^rgba?\\(/i.test(input)) format = \"rgb\";\n  else format = \"hex\";\n  const color = format === \"hsv\" ? parseHSV(input) : parseCSS(input);\n  if (!color) throw new Error(\"Color could not be parsed!\");\n  color[3] = color[3] ?? 1;\n  return { color, format };\n};\nconst chop = (v) => v.toFixed();\nconst fix = (v, p) => (\"\" + +v.toFixed(p)).replace(/^0\\./g, \".\");\nconst hsv2hsl = ([h, s, v, a]) => {\n  const l = v - v * s / 2;\n  const m = Math.min(l, 1 - l);\n  return [h, m ? (v - l) / m : 0, l, a];\n};\nconst hsv2rgb = ([h, s, v, a]) => {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1), a];\n};\nconst toFn = ([c1, c2, c3, a], name, forceAlpha = false) => {\n  const includeAlpha = forceAlpha || a < 1;\n  if (\"rgb\" === name && includeAlpha) {\n    name = \"rgba\";\n  }\n  const values = name.startsWith(\"hs\") ? [chop(c1), chop(c2 * 100) + \"%\", chop(c3 * 100) + \"%\"] : [chop(c1 * 255), chop(c2 * 255), chop(c3 * 255)];\n  if (includeAlpha) values.push(fix(a, 2));\n  return `${name}(${values.join()})`;\n};\nconst toHex = (color) => \"#\" + color.slice(0, color[3] < 1 ? 4 : 3).map(\n  (v) => Math.round(v * 255).toString(16).padStart(2, \"0\")\n).join(\"\");\nconst convertColor = (color, format) => {\n  if (format === \"hsv\") return toFn(color, format);\n  if (format === \"hsl\") return toFn(hsv2hsl(color), format);\n  if (format === \"rgb\") return toFn(hsv2rgb(color), format);\n  if (format === \"rgba\") return toFn(hsv2rgb(color), format, true);\n  return toHex(hsv2rgb(color));\n};\nclass Color {\n  constructor(from) {\n    __publicField(this, \"color\");\n    if (!from) {\n      this.color = [0, 0, 0, 1];\n    } else if (from instanceof Color) {\n      this.color = [...from.color];\n    } else if (Array.isArray(from)) {\n      const [h = 0, s = 0, v = 0, a = 1] = from;\n      this.color = [h, s, v, a];\n    } else {\n      this.color = parseColor(from).color;\n    }\n  }\n  getSet(index, value) {\n    if (value === void 0) return this.color[index];\n    const clone = [...this.color];\n    clone[index] = value;\n    return new Color(clone);\n  }\n  hue(value) {\n    return this.getSet(0, value);\n  }\n  saturation(value) {\n    return this.getSet(1, value);\n  }\n  value(value) {\n    return this.getSet(2, value);\n  }\n  alpha(value) {\n    return this.getSet(3, value);\n  }\n  string(format) {\n    return convertColor(this.color, format);\n  }\n  toString() {\n    return this.string(\"hex\");\n  }\n  clone() {\n    return new Color(this);\n  }\n}\nclass Slider extends EventEmitter$1 {\n  constructor($element) {\n    super();\n    __publicField(this, \"x\", 0);\n    __publicField(this, \"y\", 0);\n    __publicField(this, \"$track\");\n    __publicField(this, \"$thumb\");\n    this.$track = $element;\n    this.$thumb = $element.querySelector(\".cp_thumb\");\n    this.$track.addEventListener(\"pointerdown\", (e) => {\n      this.$track.setPointerCapture(e.pointerId);\n      this.handleDrag(e);\n      e.preventDefault();\n    });\n    this.$track.addEventListener(\"pointermove\", (e) => {\n      if (!this.$track.hasPointerCapture(e.pointerId)) return;\n      this.handleDrag(e);\n      e.preventDefault();\n    });\n    this.$track.addEventListener(\"pointerup\", (e) => {\n      this.$track.releasePointerCapture(e.pointerId);\n      this.$thumb.focus();\n      e.preventDefault();\n    });\n    this.$track.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"ArrowLeft\") {\n        this.handleNudge(-1, 0, e.shiftKey);\n        e.preventDefault();\n      } else if (e.key === \"ArrowRight\") {\n        this.handleNudge(1, 0, e.shiftKey);\n        e.preventDefault();\n      } else if (e.key === \"ArrowUp\") {\n        this.handleNudge(0, -1, e.shiftKey);\n        e.preventDefault();\n      } else if (e.key === \"ArrowDown\") {\n        this.handleNudge(0, 1, e.shiftKey);\n        e.preventDefault();\n      }\n    });\n  }\n  handleDrag(e) {\n    const rect = this.$track.getBoundingClientRect();\n    this.fireDrag((e.clientX - rect.x) / rect.width, (e.clientY - rect.y) / rect.height);\n  }\n  handleNudge(x, y, shift) {\n    const mult = shift ? 0.1 : 0.01;\n    this.fireDrag(this.x + x * mult, this.y + y * mult);\n  }\n  fireDrag(x, y) {\n    if (x < 0) x = 0;\n    else if (x > 1) x = 1;\n    if (y < 0) y = 0;\n    else if (y > 1) y = 1;\n    this.emit(\"drag\", x, y);\n  }\n  move(x, y) {\n    if (x !== void 0) {\n      this.x = x;\n      this.$thumb.style.left = `${x * 100}%`;\n    }\n    if (y !== void 0) {\n      this.y = y;\n      this.$thumb.style.top = `${y * 100}%`;\n    }\n  }\n}\nconst defaultConfig = {\n  headless: false,\n  toggleStyle: \"button\",\n  container: null,\n  color: null,\n  swatches: null,\n  swatchesOnly: false,\n  enableAlpha: true,\n  enableEyedropper: true,\n  formats: [\"hex\", \"rgb\", \"hsv\", \"hsl\"],\n  defaultFormat: \"hex\",\n  submitMode: \"confirm\",\n  showClearButton: false,\n  dismissOnOutsideClick: true,\n  dismissOnEscape: true,\n  dialogPlacement: \"top\",\n  dialogOffset: 8,\n  staticPlacement: \"center\",\n  staticOffset: 8\n};\nconst getElement = (from) => {\n  if (!from) return null;\n  if (from instanceof HTMLElement) return from;\n  return document.querySelector(from);\n};\nconst alignElement = (element, placement, offset2) => {\n  const [y, x = \"center\"] = placement.split(\" \");\n  const distance = `${offset2}px`;\n  const alignY = y === \"bottom\" ? \"bottom\" : \"top\";\n  const centerY = y === \"center\";\n  element.style[alignY] = centerY ? \"50%\" : distance;\n  const alignX = x === \"right\" ? \"right\" : \"left\";\n  const centerX = x === \"center\";\n  element.style[alignX] = centerX ? \"50%\" : distance;\n  element.style.position = \"fixed\";\n  element.style.transform = `translate(${centerX ? \"-50%\" : \"0%\"}, ${centerY ? \"-50%\" : \"0%\"})`;\n};\nconst dialogContent = '<div class=\"cp_dialog\"><div class=\"cp_area cp_area-hsv\"><div class=\"cp_thumb\" tabindex=\"0\"></div></div><div class=\"cp_dialog-inner\"><div class=\"cp_slider-hue cp_slider\"><div class=\"cp_thumb\" tabindex=\"0\"></div></div><div class=\"cp_slider cp_slider-alpha\"><div class=\"cp_thumb\" tabindex=\"0\"></div></div><div class=\"cp_swatches\"></div><div class=\"cp_formats\"></div><div class=\"cp_input-group\"><div class=\"cp_sample\"></div><input class=\"cp_value\" value=\"#ff0000\" autocomplete=\"false\" spellcheck=\"false\" /><button type=\"button\" class=\"cp_action cp_eyedrop\"><svg class=\"cp_icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><g fill=\"currentColor\"><path d=\"m207.8 87.6l-25.37 25.53l4.89 4.88a16 16 0 0 1 0 22.64l-9 9a8 8 0 0 1-11.32 0l-60.68-60.7a8 8 0 0 1 0-11.32l9-9a16 16 0 0 1 22.63 0l4.88 4.89l25-25.11c10.79-10.79 28.37-11.45 39.45-1a28 28 0 0 1 .52 40.19\" opacity=\"0.2\"/><path d=\"M224 67.3a35.8 35.8 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06l-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51l2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3M97 193a24 24 0 0 1-24 6a8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51l33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 5.65 2.34a8 8 0 0 0 5.66-2.36l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z\"/></g></svg></button><button type=\"button\" class=\"cp_action cp_clear\"><svg class=\"cp_icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><g fill=\"currentColor\"><path d=\"M224 56v144a8 8 0 0 1-8 8H68.53a8 8 0 0 1-6.86-3.88L16 128l45.67-76.12A8 8 0 0 1 68.53 48H216a8 8 0 0 1 8 8\" opacity=\"0.2\"/><path d=\"M216 40H68.53a16.08 16.08 0 0 0-13.72 7.77L9.14 123.88a8 8 0 0 0 0 8.24l45.67 76.11A16.08 16.08 0 0 0 68.53 216H216a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M61.67 204.12l6.86-4.12ZM216 200H68.53l-43.2-72l43.2-72H216Zm-109.66-53.66L124.69 128l-18.35-18.34a8 8 0 0 1 11.32-11.32L136 116.69l18.34-18.35a8 8 0 0 1 11.32 11.32L147.31 128l18.35 18.34a8 8 0 0 1-11.32 11.32L136 139.31l-18.34 18.35a8 8 0 0 1-11.32-11.32\"/></g></svg></button><button type=\"button\" class=\"cp_action cp_submit\"><svg class=\"cp_icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><g fill=\"currentColor\"><path d=\"m237.66 85.26l-128.4 128.4a8 8 0 0 1-11.32 0l-71.6-72a8 8 0 0 1 0-11.31l24-24a8 8 0 0 1 11.32 0L104 147.43l98.34-97.09a8 8 0 0 1 11.32 0l24 23.6a8 8 0 0 1 0 11.32\" opacity=\"0.2\"/><path d=\"m243.28 68.24l-24-23.56a16 16 0 0 0-22.59 0L104 136.23l-36.69-35.6a16 16 0 0 0-22.58.05l-24 24a16 16 0 0 0 0 22.61l71.62 72a16 16 0 0 0 22.63 0L243.33 90.91a16 16 0 0 0-.05-22.67M103.62 208L32 136l24-24a.6.6 0 0 1 .08.08l42.35 41.09a8 8 0 0 0 11.19 0L208.06 56L232 79.6Z\"/></g></svg></button></div></div></div>';\nconst caretContent = '<div class=\"cp_caret\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><path fill=\"currentColor\" d=\"M208.49 120.49a12 12 0 0 1-17 0L140 69v147a12 12 0 0 1-24 0V69l-51.51 51.49a12 12 0 0 1-17-17l72-72a12 12 0 0 1 17 0l72 72a12 12 0 0 1 0 17\"/></svg></div>';\nlet currentlyOpen;\nclass ColorPicker extends eventsExports.EventEmitter {\n  /**\n   * Create a new ColorPicker instance.\n   * @param $from The element or query to bind to. (leave null to create one)\n   * @param config The picker configuration.\n   */\n  constructor($from, config = {}) {\n    super();\n    __publicField(this, \"_open\", false);\n    __publicField(this, \"_unset\", true);\n    __publicField(this, \"_firingChange\", false);\n    __publicField(this, \"_format\");\n    __publicField(this, \"_color\");\n    __publicField(this, \"_newColor\");\n    __publicField(this, \"_swatches\");\n    __publicField(this, \"config\");\n    __publicField(this, \"popper\");\n    __publicField(this, \"isInput\");\n    __publicField(this, \"$toggle\");\n    __publicField(this, \"$dialog\");\n    __publicField(this, \"$button\");\n    __publicField(this, \"$input\");\n    __publicField(this, \"changeHandler\");\n    __publicField(this, \"clickHandler\");\n    __publicField(this, \"hsvSlider\");\n    __publicField(this, \"hueSlider\");\n    __publicField(this, \"alphaSlider\");\n    __publicField(this, \"$formats\");\n    __publicField(this, \"$colorInput\");\n    this.config = { ...defaultConfig, ...config };\n    $from = getElement($from) ?? document.createElement(\"button\");\n    this.$toggle = $from;\n    const color = this.config.color || $from.value || $from.dataset.color || void 0;\n    if (!this.config.headless) this.createToggle($from);\n    this._setCurrentColor(new Color(color), false);\n    if (!color) this.clear(false);\n    this.setSwatches(this.config.swatches);\n    if (this.config.dismissOnOutsideClick) {\n      window.addEventListener(\"pointerdown\", (event) => {\n        if (!this._open) return;\n        const $toggle = event.target;\n        if (!$toggle.closest(\".cp_dialog\") && !$toggle.closest(\".color-picker\")) this.close();\n      });\n    }\n    if (this.config.dismissOnEscape) {\n      window.addEventListener(\"keydown\", (event) => {\n        if (event.key === \"Escape\") {\n          const $focus = document.querySelector(\":focus\");\n          if (!$focus || $focus.closest(\".cp_dialog\")) this.close();\n          return;\n        }\n      });\n    }\n    this.close();\n  }\n  /**\n   * Get whether the dialog is currently open.\n   */\n  get isOpen() {\n    return this._open;\n  }\n  /**\n   * Get the picked color.\n   */\n  get color() {\n    return this._unset ? null : this._color;\n  }\n  /**\n   * Get the array of swatches.\n   */\n  get swatches() {\n    return this._swatches;\n  }\n  /**\n   * Get the color currently selected in the dialog.\n   */\n  get selectedColor() {\n    return this._newColor;\n  }\n  /**\n   * Get the color output format.\n   */\n  get format() {\n    return this._format;\n  }\n  /**\n   * Get the target element.\n   */\n  get element() {\n    return this.$toggle;\n  }\n  createToggle($from) {\n    const isInput = $from instanceof HTMLInputElement;\n    this.isInput = isInput;\n    this.$toggle = isInput ? document.createElement(\"button\") : $from;\n    this.$input = isInput ? $from : document.createElement(\"input\");\n    if (this.isInput && \"color\" == $from.type) {\n      $from.type = \"text\";\n    }\n    $from.replaceWith(this.$toggle);\n    this.$input.tabIndex = -1;\n    this.$input.readOnly = true;\n    this.$input.classList.add(\"cp_input\");\n    if (this.config.toggleStyle === \"input\") {\n      this.$toggle.classList.add(\"cp_wide\");\n    }\n    this.$button = document.createElement(\"div\");\n    this.$button.classList.add(\"cp_button\");\n    this.$button.innerHTML = caretContent;\n    this.$toggle.classList.add(\"color-picker\");\n    this.$toggle.setAttribute(\"type\", \"button\");\n    this.$toggle.append(this.$input, this.$button);\n    this.changeHandler = () => {\n      if (!this._firingChange) {\n        this.setColor(this.$input.value, false);\n      }\n    };\n    this.clickHandler = () => this.toggle();\n    this.$input.addEventListener(\"change\", this.changeHandler);\n    this.$toggle.addEventListener(\"click\", this.clickHandler);\n  }\n  /**\n   * Append the picker to a given element.\n   * @param target The element to attach the picker to.\n   */\n  appendTo(target) {\n    target.append(this.element);\n  }\n  setSwatches(swatches) {\n    this._swatches = swatches || [];\n    this.updateSwatches();\n  }\n  /**\n   * Toggle whether the picker dialog is opened.\n   * @param value Force open or closed?\n   * @param emit Emit event?\n   */\n  toggle(value = !this._open, emit2 = true) {\n    if (value) {\n      this.open(emit2);\n    } else {\n      this.close(emit2);\n    }\n  }\n  /**\n   * Open the picker dialog.\n   * @param emit Emit event?\n   */\n  open(emit2 = true) {\n    var _a;\n    if (this._open) return;\n    this._open = true;\n    currentlyOpen == null ? void 0 : currentlyOpen.close();\n    currentlyOpen = this;\n    const container = getElement(this.config.container) ?? document.body;\n    container.insertAdjacentHTML(\"beforeend\", dialogContent);\n    this.$dialog = container.lastElementChild;\n    this.$colorInput = this.$dialog.querySelector(\".cp_value\");\n    this.populateDialog();\n    this.updateSwatches();\n    this.bindDialog();\n    this.setFormat(this.config.defaultFormat, false);\n    this.updateColor();\n    const toggleExists = document.documentElement.contains(this.$toggle);\n    if (toggleExists) {\n      this.popper = createPopper(this.$toggle, this.$dialog, {\n        placement: this.config.dialogPlacement,\n        strategy: \"absolute\",\n        modifiers: [\n          {\n            name: \"offset\",\n            options: {\n              offset: [0, this.config.dialogOffset]\n            }\n          }\n        ]\n      });\n    } else {\n      this.popper = void 0;\n      alignElement(this.$dialog, this.config.staticPlacement, this.config.staticOffset);\n    }\n    this.$colorInput.focus({ preventScroll: true });\n    (_a = this.$button) == null ? void 0 : _a.classList.add(\"cp_open\");\n    setTimeout(() => this.$dialog.classList.add(\"cp_open\"));\n    if (emit2) {\n      this.emit(\"open\");\n      setTimeout(() => this.emit(\"opened\"), this.getAnimationDuration());\n    }\n  }\n  /**\n   * Open the picker, returning a promise with the chosen color, optionally destroying it after.\n   */\n  prompt(destroy = false) {\n    return new Promise((resolve) => {\n      this.once(\"close\", () => resolve(this.color));\n      if (destroy) {\n        this.once(\"closed\", () => this.destroy());\n      }\n      this.open();\n    });\n  }\n  populateDialog() {\n    if (this.config.formats) {\n      this.$formats = this.config.formats.map((format) => {\n        const $format = document.createElement(\"button\");\n        $format.className = \"cp_format\";\n        $format.dataset.format = format;\n        $format.textContent = format.toUpperCase();\n        $format.addEventListener(\"click\", () => this.setFormat(format));\n        return $format;\n      });\n      this.$dialog.querySelector(\".cp_formats\").append(...this.$formats);\n    }\n  }\n  bindDialog() {\n    const $hsvTrack = this.$dialog.querySelector(\".cp_area-hsv\");\n    this.hsvSlider = new Slider($hsvTrack);\n    this.hsvSlider.on(\"drag\", (x, y) => {\n      this._setNewColor(this._newColor.saturation(x).value(1 - y));\n    });\n    const $hueTrack = this.$dialog.querySelector(\".cp_slider-hue\");\n    this.hueSlider = new Slider($hueTrack);\n    this.hueSlider.on(\"drag\", (x) => {\n      this._setNewColor(this._newColor.hue(x * 360));\n    });\n    const $alphaTrack = this.$dialog.querySelector(\".cp_slider-alpha\");\n    if (this.config.enableAlpha) {\n      this.alphaSlider = new Slider($alphaTrack);\n      this.alphaSlider.on(\"drag\", (x) => {\n        this._setNewColor(this._newColor.alpha(x), true);\n      });\n    } else {\n      $alphaTrack.remove();\n    }\n    const $eyedrop = this.$dialog.querySelector(\".cp_eyedrop\");\n    if (this.config.enableEyedropper && \"EyeDropper\" in window) {\n      $eyedrop.addEventListener(\"click\", () => {\n        new EyeDropper().open().then((result) => {\n          const color = new Color(result.sRGBHex);\n          this._setNewColor(color);\n        }).catch(() => {\n        });\n      });\n    } else {\n      $eyedrop.remove();\n    }\n    const $submit = this.$dialog.querySelector(\".cp_submit\");\n    if (\"confirm\" === this.config.submitMode) {\n      $submit.addEventListener(\"click\", () => this.submit());\n    } else {\n      $submit.remove();\n    }\n    const $clear = this.$dialog.querySelector(\".cp_clear\");\n    if (this.config.showClearButton) {\n      $clear.addEventListener(\"click\", () => {\n        this.clear();\n        this.close();\n      });\n    } else {\n      $clear.remove();\n    }\n    this.$colorInput.addEventListener(\"input\", () => {\n      try {\n        const { color, format } = parseColor(this.$colorInput.value);\n        this.setFormat(format, false);\n        this._setNewColor(new Color(color), false);\n      } catch (error) {\n      }\n    });\n    this.$colorInput.addEventListener(\"keydown\", (event) => {\n      if (event.key === \"Enter\") this.submit();\n    });\n    this.$colorInput.addEventListener(\"dblclick\", () => {\n      navigator.clipboard && navigator.clipboard.writeText(this.$colorInput.value);\n    });\n    if (this.config.swatchesOnly) {\n      const $iptGroup = this.$dialog.querySelector(\".cp_input-group\");\n      $iptGroup && $iptGroup.remove();\n      const $formats = this.$dialog.querySelector(\".cp_formats\");\n      $formats && $formats.remove();\n      $hueTrack && $hueTrack.remove();\n      $hsvTrack && $hsvTrack.remove();\n      $alphaTrack && $alphaTrack.remove();\n    }\n  }\n  getAnimationDuration() {\n    const computed = window.getComputedStyle(this.$toggle);\n    const raw = computed.getPropertyValue(\"--cp-delay\");\n    return parseFloat(raw) * (raw.endsWith(\"ms\") ? 1 : 1e3);\n  }\n  /**\n   * Close the picker dialog.\n   * @param emit Emit event?\n   */\n  close(emit2 = true) {\n    var _a;\n    if (!this._open) return;\n    this._open = false;\n    currentlyOpen = void 0;\n    (_a = this.$button) == null ? void 0 : _a.classList.remove(\"cp_open\");\n    const $dialog = this.$dialog;\n    const popper2 = this.popper;\n    this.$dialog = void 0;\n    this.popper = void 0;\n    $dialog == null ? void 0 : $dialog.classList.remove(\"cp_open\");\n    setTimeout(() => {\n      $dialog == null ? void 0 : $dialog.remove();\n      popper2 == null ? void 0 : popper2.destroy();\n      if (emit2) this.emit(\"closed\");\n    }, this.getAnimationDuration());\n    if (emit2) this.emit(\"close\");\n  }\n  /**\n   * Submit the current color and close.\n   * @param color The picked color value.\n   * @param emit Emit event?\n   */\n  submit(color = this._newColor, emit2 = true) {\n    this._setCurrentColor(color, emit2, true);\n    this.close(emit2);\n  }\n  /**\n   * Destroy the picker and revert all HTML to what it was.\n   */\n  destroy() {\n    var _a;\n    this.close();\n    (_a = this.$dialog) == null ? void 0 : _a.remove();\n    if (this.isInput) {\n      if (!this.$input) return;\n      this.$toggle.removeChild(this.$input);\n      this.$toggle.replaceWith(this.$input);\n      this.$input.classList.remove(\"cp_input\");\n      this.$input.removeAttribute(\"tabindex\");\n      this.$input.removeAttribute(\"readonly\");\n      if (this.changeHandler) this.$input.removeEventListener(\"change\", this.changeHandler);\n    } else {\n      if (!this.$toggle) return;\n      this.$toggle.classList.remove(\"color-picker\", \"cp_open\");\n      this.$toggle.removeAttribute(\"data-color\");\n      this.$toggle.removeAttribute(\"type\");\n      this.$toggle.textContent = \"\";\n      if (this.clickHandler) this.$toggle.removeEventListener(\"click\", this.clickHandler);\n    }\n  }\n  /**\n   * Clear the picker color value.\n   * @param emit Emit event?\n   */\n  clear(emit2 = true) {\n    this._unset = true;\n    this.updateAppliedColor(emit2);\n  }\n  /**\n   * Set the picker color value.\n   * @param color The new color value.\n   * @param emit Emit event?\n   */\n  setColor(color, emit2 = true) {\n    if (!color) return this.clear(emit2);\n    this._setCurrentColor(new Color(color), emit2);\n  }\n  /**\n   * Set the picker color format.\n   * @param format The color format.\n   * @param update Update colors?\n   */\n  setFormat(format, update = true) {\n    this._format = format;\n    this.updateFormat();\n    if (update) {\n      this.updateColor();\n      this.updateAppliedColor(false);\n    }\n  }\n  _setNewColor(color, updateInput = true) {\n    this._newColor = color;\n    if (this.config.submitMode === \"instant\" || this.config.swatchesOnly) {\n      this._unset = false;\n      this._color = color;\n      this.updateAppliedColor(true);\n    }\n    this.updateColor(updateInput);\n  }\n  _setCurrentColor(color, emit2 = true, updateInput = true) {\n    this._unset = false;\n    this._newColor = this._color = color;\n    this.updateColor(updateInput);\n    this.updateAppliedColor(emit2);\n  }\n  updateColor(updateInput = true) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    const currentColor = ((_a = this.color) == null ? void 0 : _a.toString()) ?? \"transparent\";\n    const newColorHex = this._newColor.string(\"hex\");\n    (_b = this.$dialog) == null ? void 0 : _b.style.setProperty(\"--cp-base-color\", newColorHex.substring(0, 7));\n    (_c = this.$button) == null ? void 0 : _c.style.setProperty(\"--cp-current-color\", currentColor);\n    (_d = this.$dialog) == null ? void 0 : _d.style.setProperty(\"--cp-current-color\", currentColor);\n    (_e = this.$dialog) == null ? void 0 : _e.style.setProperty(\"--cp-color\", newColorHex);\n    (_f = this.$dialog) == null ? void 0 : _f.style.setProperty(\"--cp-hue\", this._newColor.hue().toString());\n    (_g = this.$dialog) == null ? void 0 : _g.style.setProperty(\"--cp-alpha\", this._newColor.alpha().toString());\n    (_h = this.hsvSlider) == null ? void 0 : _h.move(this._newColor.saturation(), 1 - this._newColor.value());\n    (_i = this.hueSlider) == null ? void 0 : _i.move(this._newColor.hue() / 360);\n    (_j = this.alphaSlider) == null ? void 0 : _j.move(this._newColor.alpha());\n    if (updateInput && this.$colorInput) {\n      this.$colorInput.value = this._newColor.string(this._format);\n    }\n  }\n  updateAppliedColor(emit2 = true) {\n    const color = this._unset ? \"\" : this._color.string(this.config.defaultFormat);\n    if (this.$input) {\n      this.$input.value = color;\n      this.$input.dataset.color = color;\n    }\n    if (this.$toggle) this.$toggle.dataset.color = color;\n    if (this.$button) this.$button.classList.toggle(\"cp_unset\", this._unset);\n    if (emit2) {\n      this.emit(\"pick\", this.color);\n      if (this.$input) {\n        this._firingChange = true;\n        this.$input.dispatchEvent(new Event(\"change\"));\n        this._firingChange = false;\n      }\n    }\n  }\n  updateFormat() {\n    if (!this.$formats) return;\n    this.$formats.forEach(($fmt) => $fmt.removeAttribute(\"aria-checked\"));\n    const $checked = this.$formats.find(($fmt) => $fmt.dataset.format === this._format);\n    if ($checked) {\n      $checked.ariaChecked = \"true\";\n    }\n  }\n  updateSwatches() {\n    if (!this.$dialog) return;\n    const $swatches = this.$dialog.querySelector(\".cp_swatches\");\n    $swatches.textContent = \"\";\n    this._swatches.forEach((swatch) => {\n      const $swatch = document.createElement(\"button\");\n      $swatch.className = \"cp_swatch\";\n      $swatch.style.setProperty(\"--cp-color\", swatch);\n      $swatch.dataset.color = swatch;\n      const color = new Color($swatch.dataset.color);\n      $swatch.addEventListener(\"click\", () => {\n        this._setNewColor(color);\n        if (this.config.swatchesOnly) {\n          this.close();\n        }\n      });\n      $swatches.append($swatch);\n    });\n  }\n}\n__publicField(ColorPicker, \"Color\", Color);\n\n\n\n//# sourceURL=webpack://pdf-editor/./colorpicker/colorpicker.js?\n}");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_mount_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/mount.js */ \"./js/mount.js\");\n\r\n\n\n//# sourceURL=webpack://pdf-editor/./index.js?\n}");

/***/ }),

/***/ "./js/core.js":
/*!********************!*\
  !*** ./js/core.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ $),\n/* harmony export */   $$: () => (/* binding */ $$),\n/* harmony export */   CreateBase: () => (/* binding */ CreateBase),\n/* harmony export */   CreateState: () => (/* binding */ CreateState),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\r\n\r\n\r\n;(async function(){\r\n\r\n    const [data, error] = await useAwait(new Promise((resolve, reject) => resolve(1)));\r\n\r\n    console.log(data, error);\r\n\r\n    const [data2, error2] = await useAwait(new Promise((resolve, reject) => reject(2)));\r\n\r\n    console.log(data2, error2);\r\n\r\n})();\r\n\r\n*/\r\n\r\nconst $ = function (tag, props) {\r\n  if (!!tag.nodeType) {\r\n    return tag;\r\n  }\r\n\r\n  if (typeof tag === \"string\" && tag.trim().indexOf(\"<\") === 0) {\r\n    const frag = $({ innerHTML: tag });\r\n    if (frag.firstElementChild === frag.lastElementChild) {\r\n      return frag.firstElementChild;\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (typeof tag === \"object\") {\r\n    props = tag;\r\n    tag = props.tag || \"div\";\r\n  }\r\n  if (!props) {\r\n    props = {};\r\n  }\r\n  delete props.tag;\r\n  if (!tag) {\r\n    tag = \"div\";\r\n  }\r\n  if (tag === \"button\" && !props.type) {\r\n    props.type = \"button\";\r\n  }\r\n  var node = document.createElement(tag);\r\n  if (props.css) {\r\n    for (var css in props.css) {\r\n      if (props.css.hasOwnProperty(css)) {\r\n        node.style[css] = props.css[css];\r\n      }\r\n    }\r\n    delete props.css;\r\n  }\r\n  if (props.dataset) {\r\n    for (var dataset in props.dataset) {\r\n      if (props.dataset.hasOwnProperty(dataset)) {\r\n        node.dataset[dataset] = props.dataset[dataset];\r\n      }\r\n    }\r\n    delete props.css;\r\n  }\r\n  if (props.content) {\r\n    if (Array.isArray(props.content)) {\r\n      var c = 0,\r\n        l = props.content.length;\r\n      for (; c < l; c++) {\r\n        node.append($(props.content[c]));\r\n      }\r\n    } else {\r\n      node.append($(props.content));\r\n    }\r\n    delete props.content;\r\n  }\r\n  for (var i in props) {\r\n    if (props.hasOwnProperty(i)) {\r\n      node[i] = props[i];\r\n    }\r\n  }\r\n  return node;\r\n};\r\n\r\nconst $$ = function (tag, props) {\r\n  const res = {\r\n    node: $(tag, props),\r\n  };\r\n  res.node.querySelectorAll(\"[data-ref]\").forEach((node) => {\r\n    res[node.dataset.ref] = node;\r\n    delete node.dataset.ref;\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nconst useAwait = (p) =>\r\n  p.then((data) => [data, null]).catch((err) => [null, err]);\r\n\r\nconst _fetch = async (url, options) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const [response, error] = await useAwait(fetch(url, options));\r\n    if (error) {\r\n      reject(error);\r\n    } else {\r\n      resolve(response);\r\n    }\r\n  });\r\n};\r\n\r\nconst fetchJSON = async (url, options) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const [response, error] = await useAwait(fetch(url, options));\r\n    if (error) {\r\n      reject(error);\r\n    }\r\n    const [json, err] = await useAwait(response.json());\r\n    if (err) {\r\n      reject(err);\r\n    }\r\n    resolve(json);\r\n  });\r\n};\r\n\r\nconst fetchText = async (url, options) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const [response, error] = await useAwait(fetch(url, options));\r\n    if (error) {\r\n      reject(error);\r\n    }\r\n    const [json, err] = await useAwait(response.text());\r\n    if (err) {\r\n      reject(err);\r\n    }\r\n    resolve(json);\r\n  });\r\n};\r\n\r\nconst useFetch = async (url, options) => await useAwait(_fetch(url, options));\r\nconst useFetchJSON = async (url, options) =>\r\n  await useAwait(fetchJSON(url, options));\r\nconst useFetchText = async (url, options) =>\r\n  await useAwait(fetchText(url, options));\r\n\r\nconst totalFetch = (url, options) => {\r\n  let _status = \"pending\";\r\n\r\n  const status = () => {\r\n    return _status;\r\n  };\r\n\r\n  const controller = new AbortController();\r\n  options.signal = controller.signal;\r\n  const req = _fetch(url, options);\r\n  const res = useAwait(req);\r\n\r\n  return {\r\n    abort: controller.abort,\r\n    promise: () => {\r\n      return res;\r\n    },\r\n    status,\r\n  };\r\n};\r\n\r\nclass CreateBase {\r\n  #events = {};\r\n  on(eventName, func) {\r\n    this.#events[eventName]\r\n      ? this.#events[eventName].push(func)\r\n      : (this.#events[eventName] = [func]);\r\n    return this;\r\n  }\r\n  off(eventName, func) {\r\n    if (!this.#events[eventName]) {\r\n      return this;\r\n    }\r\n    if (typeof func === \"function\") {\r\n      const index = this.#events[eventName].indexOf(func);\r\n      if (index === -1) {\r\n        return this;\r\n      }\r\n      this.#events[eventName].splice(index, 1);\r\n    } else {\r\n      this.#events[eventName] = [];\r\n    }\r\n    return this;\r\n  }\r\n\r\n  reset() {\r\n    this.#events = {};\r\n    return this;\r\n  }\r\n\r\n  dispatch(eventName, data) {\r\n    this.#events[eventName]\r\n      ? this.#events[eventName].forEach((func) => {\r\n          func.call(this, data);\r\n        })\r\n      : \"\";\r\n    return this;\r\n  }\r\n}\r\n\r\nclass CreateState extends CreateBase {\r\n  constructor(initial) {\r\n    super();\r\n    this.setState(initial);\r\n  }\r\n\r\n  #state;\r\n  #id = `${Date.now()}`;\r\n\r\n  getState() {\r\n    return this.#state;\r\n  }\r\n\r\n  id() {\r\n    return this.#id;\r\n  }\r\n\r\n  setState(state, dispatch = true) {\r\n    this.#state = state;\r\n    if (dispatch) {\r\n      this.dispatch(\"change\", this.getState());\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n  useAwait,\r\n  useFetch,\r\n  useFetchText,\r\n  useFetchJSON,\r\n\r\n  totalFetch,\r\n  CreateState,\r\n\r\n  $,\r\n});\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/core.js?\n}");

/***/ }),

/***/ "./js/dialog.js":
/*!**********************!*\
  !*** ./js/dialog.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CDialog: () => (/* binding */ CDialog),\n/* harmony export */   Dialog: () => (/* binding */ Dialog)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n\r\n\r\nclass Dialog {\r\n  constructor(options) {\r\n    this.config(options);\r\n    this.mode = options.mode || \"modal\";\r\n    this.init();\r\n  }\r\n\r\n  title(title) {\r\n    this.header.querySelector(\".dialog-title\").innerHTML = title;\r\n  }\r\n\r\n  create() {\r\n    this.root = document.createElement(\"div\");\r\n    const mode = this.mode.split(\"-\");\r\n    let pos = \"end\";\r\n    if (mode[1]) {\r\n      pos = mode[1];\r\n    }\r\n    this.root.className = `dialog dialog-${mode[0]} dialog-${pos}`;\r\n\r\n    this.header = document.createElement(\"div\");\r\n    this.header.className = \"dialog-header\";\r\n    this.header.innerHTML = `<span class=\"dialog-title\">${\r\n      this.settings.title || \"\"\r\n    }</span>`;\r\n\r\n    const closeButton = document.createElement(\"span\");\r\n    closeButton.innerHTML =\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" fill=\"currentColor\"><path d=\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\"/></svg>';\r\n    closeButton.className = \"dialog-close\";\r\n    closeButton.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this[this.settings.closeAction]();\r\n    });\r\n\r\n    this.header.appendChild(closeButton);\r\n\r\n    this.content = document.createElement(\"div\");\r\n    this.content.className = \"dialog-content\";\r\n    this.content.innerHTML = this.settings.content;\r\n    this.content.style.width = this.settings.width;\r\n\r\n    this.footer = document.createElement(\"div\");\r\n    this.footer.className = \"dialog-footer\";\r\n\r\n    this.overlay = document.createElement(\"div\");\r\n    this.overlay.className = \"dialog-overlay\";\r\n\r\n    if (!!this.settings.header) {\r\n      this.root.appendChild(this.header);\r\n      this.root.classList.add(\"has-header\");\r\n    }\r\n\r\n    this.root.appendChild(this.content);\r\n\r\n    if (!!this.settings.footer) {\r\n      this.root.appendChild(this.footer);\r\n      this.root.classList.add(\"has-footer\");\r\n    }\r\n\r\n    if (this.settings.overlay !== false) {\r\n      document.body.appendChild(this.overlay);\r\n    }\r\n\r\n    document.body.appendChild(this.root);\r\n  }\r\n\r\n  remove() {\r\n    this.root.remove();\r\n    this.overlay.remove();\r\n  }\r\n\r\n  show() {\r\n    this.root.classList.add(\"active\");\r\n    this.overlay.style.display = \"\";\r\n  }\r\n  hide() {\r\n    this.root.classList.remove(\"active\");\r\n    this.overlay.style.display = \"none\";\r\n  }\r\n\r\n  style() {\r\n    if (Dialog._hasStyle) {\r\n      return;\r\n    }\r\n    Dialog._hasStyle = true;\r\n    const style = document.createElement(\"style\");\r\n\r\n    style.textContent = `\r\n                    .dialog, .dialog-overlay{\r\n                        position: fixed;\r\n                        z-index: 1000;\r\n                    }\r\n\r\n                    .dialog-overlay{\r\n                        top:0;\r\n                        left: 0;\r\n                        width: 100%;\r\n                        height: 100%;\r\n                        background-color: rgba(0,0,0,.1);\r\n                    }\r\n\r\n                    \r\n                    .dialog{\r\n                        background-color: white;\r\n                        border-radius: 5px;\r\n                        box-shadow: 0 0 20px -10px rgba(0,0,0,.3);\r\n                        top: 50%;\r\n                        left: 50%;\r\n                        transform: translate(-50%, -50%);\r\n\r\n                        opacity: 0;\r\n                        visibility: hidden;\r\n                        display: none;\r\n                        transform: scale(.9);\r\n                        z-index: 3001;\r\n\r\n                        --padding: var(--gap-box);\r\n                        --header-height: 70px;\r\n                        --footer-height: 70px;\r\n                        font-family: var(--font);\r\n                    }\r\n                    \r\n                    .dialog.disabled .dialog-footer,\r\n                    .dialog.disabled .dialog-content{\r\n                        pointer-events: none\r\n                    }\r\n                    .dialog.disabled .dialog-content:after{\r\n                        background-color: #ffffff99;\r\n                        position: absolute;\r\n                        inset: 0;\r\n                        content: '';\r\n                        z-index: 1;\r\n                        \r\n                    }\r\n                    .dialog.active{\r\n                        opacity: 1;\r\n                        visibility: visible;\r\n                        display: block;\r\n                        transform: scale(1)\r\n                    }\r\n\r\n                    .dialog-sidebar{\r\n                        top: calc(var(--padding) + var(--toolbar-height));\r\n                        right: var(--gap-box);\r\n                        left: auto;\r\n                        transform: none;\r\n                        height: calc(100% - (var(--toolbar-height) + (2 * var(--padding))));\r\n                    }\r\n\r\n                    .dialog-start{\r\n         \r\n                        right: auto;\r\n                        left: var(--gap-box);\r\n       \r\n                    }\r\n\r\n                    .dialog-content{\r\n                        padding: var(--padding);\r\n                        max-height: calc(100vh - (2 * var(--padding)));\r\n                        overflow: auto;\r\n                        position:relative;\r\n                    }\r\n                        .dialog.has-header .dialog-content{\r\n                                max-height: calc(100% - var(--header-height));\r\n                            \r\n                        }\r\n\r\n                         .dialog.has-footer .dialog-content{\r\n                            max-height: calc(100vh - var(--footer-height));\r\n                        }\r\n\r\n                        .dialog.has-header.has-footer .dialog-content{\r\n                            max-height: calc(100vh - var(--header-height) - var(--footer-height));\r\n                        }\r\n\r\n                    .dialog-header{\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        padding: var(--padding);\r\n                        border-bottom: 1px solid silver;\r\n                        height: var(--header-height)\r\n\r\n                    }\r\n\r\n                    .dialog-footer{\r\n                        display: flex;\r\n                        justify-content: flex-end;\r\n                        align-items: center;\r\n                        padding: var(--padding);\r\n                        border-top: 1px solid silver;\r\n                        height: var(--footer-height)\r\n                    }\r\n\r\n \r\n\r\n                    .dialog-close svg{\r\n                        width: 25px\r\n                    }\r\n                    .dialog-close:hover{\r\n                        color: black\r\n                    }\r\n                    .dialog-close{\r\n                        cursor: pointer;\r\n                        margin-inline-start: 20px;\r\n                        display: inline-flex;\r\n                        align-items: center;\r\n                        justify-content: center;\r\n                    }\r\n\r\n                     \r\n\r\n                    .dialog-title{\r\n                        font-weight: bold;\r\n                        opacity: .5;\r\n                        font-size: 12px;\r\n                        text-transform: uppercase;\r\n                    }\r\n\r\n                `;\r\n\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  init() {\r\n    this.create();\r\n    this.style();\r\n    this.show();\r\n  }\r\n\r\n  config(options = {}) {\r\n    const defaults = {\r\n      content: ``,\r\n      title: \"\",\r\n      width: \"auto\",\r\n      closeAction: \"remove\",\r\n    };\r\n\r\n    this.settings = Object.assign({}, defaults, options);\r\n  }\r\n}\r\n\r\nclass CDialog extends _core_js__WEBPACK_IMPORTED_MODULE_0__.CreateBase {\r\n  constructor(options = {}) {\r\n    super();\r\n    this.dialog = new Dialog(\r\n      Object.assign(\r\n        {},\r\n        {\r\n          width: \"350px\",\r\n          mode: \"sidebar\",\r\n          footer: false,\r\n          header: true,\r\n          content: ``,\r\n          closeAction: \"hide\",\r\n          overlay: false,\r\n        },\r\n        options\r\n      )\r\n    );\r\n    this.node = this.dialog.content;\r\n    this.dialog.hide();\r\n  }\r\n\r\n  enable() {\r\n    this.dialog.root.classList.remove(\"disabled\");\r\n  }\r\n  disable() {\r\n    this.dialog.root.classList.add(\"disabled\");\r\n  }\r\n\r\n  open() {\r\n    this.dialog.show();\r\n    this.dispatch(\"show\");\r\n  }\r\n\r\n  close() {\r\n    this.dialog.hide();\r\n    this.dispatch(\"close\");\r\n  }\r\n\r\n  content(content) {\r\n    return this.html(content);\r\n  }\r\n  html(content) {\r\n    if (typeof content === \"string\") {\r\n      this.dialog.content.innerHTML = content;\r\n    } else if (!!content.nodeName) {\r\n      this.dialog.content.appendChild(content);\r\n    } else if (Array.isArray(content)) {\r\n      content.forEach((item) => {\r\n        this.dialog.content.appendChild(item);\r\n      });\r\n    }\r\n  }\r\n  title(html) {\r\n    this.dialog.title(html);\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/dialog.js?\n}");

/***/ }),

/***/ "./js/draggable.js":
/*!*************************!*\
  !*** ./js/draggable.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDraggable: () => (/* binding */ initDraggable)\n/* harmony export */ });\nconst initDraggable = (instance, mode = \"resize\") => {\r\n  const conf = {\r\n    resizable: false,\r\n    warpable: false,\r\n    keepRatio: false,\r\n    scalable: false,\r\n    rotatable: false,\r\n  };\r\n\r\n  if (mode === \"resize\") {\r\n    conf.resizable = true;\r\n  }\r\n\r\n  document.querySelectorAll(\".component:not(.draggable)\").forEach((node) => {\r\n    node.classList.add(\"draggable\");\r\n\r\n    if (!node.dataset.id) {\r\n      node.dataset.id = instance.id();\r\n    }\r\n\r\n    let moveable;\r\n\r\n    const section = node.closest(\".section\");\r\n    const snapDirections = {\r\n      top: true,\r\n      left: true,\r\n      bottom: true,\r\n      right: true,\r\n      center: true,\r\n      middle: true,\r\n    };\r\n    const elementSnapDirections = {\r\n      top: true,\r\n      left: true,\r\n      bottom: true,\r\n      right: true,\r\n      center: true,\r\n      middle: true,\r\n    };\r\n    moveable = new Moveable(document.body, {\r\n      target: node,\r\n      // If the container is null, the position is fixed. (default: parentElement(document.body))\r\n      container: section,\r\n      draggable: true,\r\n      ...conf,\r\n\r\n      // Enabling pinchable lets you use events that\r\n      // can be used in draggable, resizable, scalable, and rotateable.\r\n      pinchable: true, // [\"resizable\", \"scalable\", \"rotatable\"]\r\n      pinchable: [\"resizable\", \"scalable\"],\r\n      origin: true,\r\n\r\n      // Resize, Scale Events at edges.\r\n      edge: false,\r\n      throttleDrag: 0,\r\n      throttleResize: 0,\r\n      throttleScale: 0,\r\n      throttleRotate: 0,\r\n      // dragTarget: node.querySelector(\".drag-area\"),\r\n      renderDirections: [\"nw\", \"n\", \"ne\", \"w\", \"e\", \"sw\", \"s\", \"se\"],\r\n      snappable: true,\r\n      snapDirections: snapDirections,\r\n      elementSnapDirections: elementSnapDirections,\r\n      elementGuidelines: [\".component\", \".section-content\"],\r\n    });\r\n\r\n    node.moveable = moveable;\r\n\r\n    node.parentElement.parentElement.append(moveable.selfElement);\r\n\r\n    /* draggable */\r\n    moveable\r\n      .on(\"dragStart\", ({ target, clientX, clientY }) => {\r\n        target.classList.add($ir.prefix(\"dragging\"));\r\n        document.body.classList.add($ir.prefix(\"dragging\"));\r\n\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      })\r\n      .on(\r\n        \"drag\",\r\n        ({\r\n          target,\r\n          transform,\r\n          left,\r\n          top,\r\n          right,\r\n          bottom,\r\n          beforeDelta,\r\n          beforeDist,\r\n          delta,\r\n          dist,\r\n          clientX,\r\n          clientY,\r\n        }) => {\r\n          target.style.left = `${Math.round(left)}px`;\r\n          target.style.top = `${Math.round(top)}px`;\r\n\r\n          instance.sync();\r\n\r\n          // console.log(\"onDrag translate\", dist);\r\n          // target.style.transform = transform;\r\n        }\r\n      )\r\n      .on(\"dragEnd\", ({ target, isDrag, clientX, clientY }) => {\r\n        target.classList.remove($ir.prefix(\"dragging\"));\r\n        document.body.classList.remove($ir.prefix(\"dragging\"));\r\n        $ir.componentHandle.position();\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      });\r\n\r\n    /* resizable */\r\n    moveable\r\n      .on(\"resizeStart\", ({ target, clientX, clientY }) => {\r\n        target.classList.add($ir.prefix(\"resizing\"));\r\n        document.body.classList.add($ir.prefix(\"resizing\"));\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      })\r\n      .on(\r\n        \"resize\",\r\n        ({ target, width, height, dist, delta, clientX, clientY, drag }) => {\r\n          if (delta[0]) {\r\n            target.style.width = `${Math.floor(width)}px`;\r\n          }\r\n          if (delta[1]) {\r\n            target.style.height = `${Math.floor(height)}px`;\r\n          }\r\n\r\n          //target.style.transform = drag.transform;\r\n          target.style.top = Math.floor(drag.top) + \"px\";\r\n          target.style.left = Math.floor(drag.left) + \"px\";\r\n\r\n          instance.sync();\r\n        }\r\n      )\r\n      .on(\"resizeEnd\", ({ target, isDrag, clientX, clientY }) => {\r\n        target.classList.remove($ir.prefix(\"resizing\"));\r\n        document.body.classList.remove($ir.prefix(\"resizing\"));\r\n        $ir.componentHandle.position();\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      });\r\n\r\n    /* scalable */\r\n    moveable\r\n      .on(\"scaleStart\", ({ target, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      })\r\n      .on(\r\n        \"scale\",\r\n        ({ target, scale, dist, delta, transform, clientX, clientY }) => {\r\n          console.log(\"onScale scale\", scale);\r\n          target.style.transform = transform;\r\n          instance.sync();\r\n        }\r\n      )\r\n      .on(\"scaleEnd\", ({ target, isDrag, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      });\r\n\r\n    /* rotatable */\r\n    moveable\r\n      .on(\"rotateStart\", ({ target, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      })\r\n      .on(\r\n        \"rotate\",\r\n        ({ target, beforeDelta, delta, dist, transform, clientX, clientY }) => {\r\n          console.log(\"onRotate\", dist);\r\n          target.style.transform = transform;\r\n          instance.sync();\r\n        }\r\n      )\r\n      .on(\"rotateEnd\", ({ target, isDrag, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      });\r\n\r\n    /* warpable */\r\n    let matrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n    moveable\r\n      .on(\"warpStart\", ({ target, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      })\r\n      .on(\r\n        \"warp\",\r\n        ({ target, clientX, clientY, delta, dist, multiply, transform }) => {\r\n          console.log(\"onWarp\", target);\r\n          // target.style.transform = transform;\r\n          matrix = multiply(matrix, delta);\r\n          target.style.transform = `matrix3d(${matrix.join(\",\")})`;\r\n          instance.sync();\r\n        }\r\n      )\r\n      .on(\"warpEnd\", ({ target, isDrag, clientX, clientY }) => {\r\n        instance.stateManager.record(\r\n          {\r\n            id: target.dataset.id,\r\n            value: target.getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          true\r\n        );\r\n      });\r\n\r\n    /* pinchable */\r\n    // Enabling pinchable lets you use events that\r\n    // can be used in draggable, resizable, scalable, and rotateable.\r\n    moveable\r\n      .on(\"pinchStart\", ({ target, clientX, clientY }) => {\r\n        // pinchStart event occur before dragStart, rotateStart, scaleStart, resizeStart\r\n        console.log(\"onPinchStart\");\r\n      })\r\n      .on(\"pinch\", ({ target, clientX, clientY, datas }) => {\r\n        // pinch event occur before drag, rotate, scale, resize\r\n        console.log(\"onPinch\");\r\n        instance.sync();\r\n      })\r\n      .on(\"pinchEnd\", ({ isDrag, target, clientX, clientY, datas }) => {\r\n        // pinchEnd event occur before dragEnd, rotateEnd, scaleEnd, resizeEnd\r\n        console.log(\"onPinchEnd\");\r\n      });\r\n  });\r\n};\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/draggable.js?\n}");

/***/ }),

/***/ "./js/guicss.js":
/*!**********************!*\
  !*** ./js/guicss.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GUIEditor: () => (/* binding */ GUIEditor),\n/* harmony export */   fields: () => (/* binding */ fields)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n/* harmony import */ var _colorpicker_colorpicker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../colorpicker/colorpicker.js */ \"./colorpicker/colorpicker.js\");\n\r\n\r\nconst { CreateState, $ } = _core_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n\r\n\r\nconst file2image = (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    var reader = new FileReader();\r\n    reader.onload = function () {\r\n      resolve(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  });\r\n};\r\n\r\nconst DecorateFile = (instance) => {\r\n  const target = $(\"div\");\r\n\r\n  instance.node().after(target);\r\n\r\n  instance.on(\"change\", async () => {\r\n    const files = instance.value;\r\n\r\n    const res = await Promise.allSettled(\r\n      Array.from(files).map((file) => file2image(file))\r\n    );\r\n    target.innerHTML = res\r\n      .filter((p) => p.status === \"fulfilled\")\r\n      .map((p) => `<img src=\"${p.value}\">`);\r\n  });\r\n};\r\nconst DecorateNumber = (instance) => {\r\n  if (\r\n    typeof instance.props.min === \"number\" &&\r\n    typeof instance.props.max === \"number\"\r\n  ) {\r\n    const slider = $(\"input\", {\r\n      id: `node-${Date.now()}`,\r\n      type: \"range\",\r\n      min: instance.props.min,\r\n      max: instance.props.max,\r\n    });\r\n    slider.addEventListener(\"input\", () => {\r\n      instance.setValue(slider.value);\r\n    });\r\n    instance.on(\"change\", () => {\r\n      slider.value = parseFloat(instance.value);\r\n    });\r\n    instance.node().after(slider);\r\n    if (instance.props.appendix) {\r\n      const appndx = $(\"span\", {\r\n        innerHTML: instance.props.appendix,\r\n        className: $ir.prefix(\"appendix\"),\r\n      });\r\n      instance.node().after(appndx);\r\n    }\r\n    instance.$deepSetValue = (value) => {\r\n      const val = parseFloat(value);\r\n      if (isNaN(val)) {\r\n        // in case of 'none', 'inherit', etc...\r\n        slider.value = 0;\r\n      } else {\r\n        slider.value = val;\r\n      }\r\n    };\r\n  }\r\n};\r\nconst DecorateColor = (instance) => {\r\n  instance.colorPicker = new _colorpicker_colorpicker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](instance.node(), {\r\n    toggleStyle: \"input\",\r\n    submitMode: \"instant\",\r\n    showClearButton: true,\r\n    dismissOnOutsideClick: true,\r\n  });\r\n  instance.colorPicker.setColor(instance.node().value, false);\r\n  instance.colorPicker.on(\"pick\", (color) => {\r\n    instance.setState(color.toString(\"hex\"));\r\n    // instance.dispatch('change', {name: instance.name, value: color.toString('hex')});\r\n  });\r\n\r\n  instance.$deepSetValue = (value) => {\r\n    instance.colorPicker.setColor(value, false);\r\n  };\r\n};\r\nconst DecorateField = (instance) => {\r\n  const node = instance.node();\r\n  const props = instance.props;\r\n\r\n  for (let i in props) {\r\n    node[i] = typeof props[i] === \"function\" ? props[i].bind(node) : props[i];\r\n  }\r\n\r\n  setTimeout(() => {\r\n    if (props.type === \"color\") {\r\n      node.type = \"text\";\r\n\r\n      DecorateColor(instance);\r\n    } else if (props.type === \"number\") {\r\n      DecorateNumber(instance);\r\n    } else if (props.type === \"file\") {\r\n      DecorateFile(instance);\r\n    }\r\n  }, 2);\r\n};\r\n\r\nclass InputField extends CreateState {\r\n  constructor(props, validate) {\r\n    super();\r\n\r\n    this.validate = validate;\r\n    this.props = props;\r\n    this.init();\r\n  }\r\n  #field = $(\"input\", { id: `node-${Date.now()}` });\r\n\r\n  node() {\r\n    return this.#field;\r\n  }\r\n\r\n  init() {\r\n    DecorateField(this);\r\n    this.#field.addEventListener(\"input\", (e) => {\r\n      const val = this.#field.files || this.#field.value;\r\n\r\n      if (this.#field.type === \"file\") {\r\n        Promise.allSettled(\r\n          Array.from(val).map((file) => file2image(file))\r\n        ).then((res) => {\r\n          this.setValue(res.map((o) => o.value));\r\n        });\r\n      } else {\r\n        this.setValue(val);\r\n      }\r\n    });\r\n  }\r\n\r\n  $deepSetValue() {}\r\n\r\n  setValue(value, trigger = true) {\r\n    if (trigger) {\r\n      this.dispatch(\"beforeChange\", { value });\r\n    }\r\n\r\n    if (typeof value === \"string\" || typeof value === \"number\") {\r\n      if (this.#field.type !== \"file\") {\r\n        if (this.#field.type === \"number\") {\r\n          const val = parseFloat(value);\r\n          if (isNaN(val)) {\r\n            // in case of 'none', 'inherit', etc...\r\n            this.#field.value = 0;\r\n          } else {\r\n            this.#field.value = val;\r\n          }\r\n        } else {\r\n          this.#field.value = value;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState(value, trigger);\r\n\r\n    this.$deepSetValue(value);\r\n\r\n    if (this.validate && !this.validate(value)) {\r\n      this.dispatch(\"invalid\");\r\n    } else {\r\n      this.dispatch(\"valid\");\r\n    }\r\n  }\r\n\r\n  set value(value) {\r\n    this.setValue(value, true);\r\n  }\r\n\r\n  get value() {\r\n    let val = this.getState();\r\n\r\n    if (!val && typeof this.props.default !== \"undefined\") {\r\n      val = this.props.default;\r\n    }\r\n    if (this.props.appendix) {\r\n      val += this.props.appendix;\r\n    }\r\n    return val;\r\n  }\r\n}\r\n\r\nclass InputBlock extends CreateState {\r\n  constructor(label, props, validate) {\r\n    super();\r\n    this.label = label;\r\n    this.props = props;\r\n    this.validate = validate;\r\n    this.init();\r\n  }\r\n\r\n  setValue(value, trigger = true) {\r\n    this.field.setValue(value, trigger);\r\n    if (trigger) {\r\n      this.setState(value);\r\n    }\r\n  }\r\n\r\n  set value(value) {\r\n    this.field.value = value;\r\n  }\r\n\r\n  get value() {\r\n    return this.field.value;\r\n  }\r\n\r\n  init() {\r\n    this.field = new InputField(this.props, this.validate);\r\n\r\n    const events = [\"beforeChange\", \"change\"];\r\n\r\n    events.forEach((event) => {\r\n      this.field.on(event, (data) => {\r\n        this.dispatch(event, data);\r\n      });\r\n    });\r\n\r\n    this.field.on(\"invalid\", (data) => {\r\n      this.dispatch(\"invalid\", data);\r\n    });\r\n    this.field.on(\"valid\", (data) => {\r\n      this.dispatch(\"valid\", data);\r\n    });\r\n    this.label = $(\"label\", {\r\n      content: document.createTextNode(this.label),\r\n      for: this.field.node().id,\r\n    });\r\n    this.block = $(\"div\", {\r\n      className: `g-input-block g-input-block-type-${this.props.type}`,\r\n      content: [this.label, this.field.node()],\r\n    });\r\n\r\n    if (this.props.type === \"hidden\") {\r\n      this.block.style.display = \"none\";\r\n    }\r\n  }\r\n}\r\n\r\nclass PreviewSelect extends CreateState {\r\n  constructor(label, options = []) {\r\n    super();\r\n    this.label = label;\r\n    this.options = options;\r\n    this.init();\r\n  }\r\n\r\n  options2HTML() {\r\n    return this.options.map(\r\n      (option) => `<div data-value=\"${option.value}\">${option.content}</div>`\r\n    );\r\n  }\r\n\r\n  setValue(value, trigger = true) {\r\n    if (trigger) {\r\n      this.dispatch(\"beforeChange\", { value: value });\r\n    }\r\n\r\n    this.setState(value, trigger);\r\n\r\n    this.setUIValue(value);\r\n  }\r\n\r\n  setUIValue(value) {\r\n    this.valueNode.innerHTML = this.options.find(\r\n      (option) => option.value === value\r\n    ).content;\r\n  }\r\n\r\n  set value(value) {\r\n    this.setValue(value, true);\r\n  }\r\n\r\n  get value() {\r\n    return this.getState();\r\n  }\r\n\r\n  init() {\r\n    this.label = $(\"label\", { content: document.createTextNode(this.label) });\r\n    this.select = $(\"div\", {\r\n      className: $ir.prefix(\"select\"),\r\n      content: [\r\n        { className: $ir.prefix`select-value` },\r\n        {\r\n          className: $ir.prefix`select-content`,\r\n          innerHTML: this.options2HTML().join(\"\"),\r\n        },\r\n      ],\r\n    });\r\n\r\n    this.valueNode = this.select.querySelector(`.${$ir.prefix`select-value`}`);\r\n\r\n    this.select.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\"[data-value]\");\r\n      if (target) {\r\n        this.value = target.dataset.value;\r\n      }\r\n      this.select.classList.toggle(\"active\");\r\n    });\r\n    this.block = $(\"div\", {\r\n      className: \"g-input-block\",\r\n      content: [this.label, this.select],\r\n    });\r\n\r\n    if (!$ir.__previewSelect) {\r\n      $ir.__previewSelect = true;\r\n      document.body.addEventListener(\"click\", (e) => {\r\n        const target = e.target.closest(\".ir-select\");\r\n        if (!target) {\r\n          document\r\n            .querySelectorAll(\".ir-select.active\")\r\n            .forEach((node) => node.classList.remove(\"active\"));\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst fields = [\r\n  {\r\n    label: \"Top\",\r\n    props: { min: 0, max: 2000, type: \"number\", appendix: \"px\" },\r\n    name: \"top\",\r\n  },\r\n  {\r\n    label: \"Left\",\r\n    props: { min: 0, max: 2000, type: \"number\", appendix: \"px\" },\r\n    name: \"left\",\r\n  },\r\n  {\r\n    label: \"Width\",\r\n    props: { min: 20, max: 2000, type: \"number\", appendix: \"px\" },\r\n    name: \"width\",\r\n  },\r\n  {\r\n    label: \"Height\",\r\n    props: { min: 20, max: 2000, type: \"number\", appendix: \"px\" },\r\n    name: \"height\",\r\n  },\r\n  {\r\n    label: \"Padding\",\r\n    props: { min: 0, max: 200, type: \"number\", appendix: \"px\" },\r\n    name: \"padding\",\r\n    prop: \"padding\",\r\n  },\r\n\r\n  { label: \"Background\", props: { type: \"color\" }, name: \"backgroundColor\" },\r\n];\r\n\r\nclass GUIEditor extends CreateState {\r\n  constructor(options) {\r\n    super();\r\n    this.target = options.target;\r\n    this.schema = options.schema || [];\r\n    this.build();\r\n  }\r\n\r\n  #pausedChange = false;\r\n\r\n  buildBlock(obj) {\r\n    let block;\r\n    if (obj.type === \"previewSelect\") {\r\n      block = new PreviewSelect(obj.label, obj.options);\r\n    } else {\r\n      block = new InputBlock(obj.label, obj.props, obj.validate);\r\n    }\r\n\r\n    return block;\r\n  }\r\n  build() {\r\n    this.fields = this.schema.map((obj) => {\r\n      let block = this.buildBlock(obj);\r\n\r\n      block.name = obj.name;\r\n      block.prop = obj.prop;\r\n      if (this.target) {\r\n        this.target.append(block.block);\r\n      }\r\n      block.on(\"change\", () => {\r\n        this.dispatch(\"change\", this.value);\r\n      });\r\n      block.on(\"beforeChange\", (data) => {\r\n        this.dispatch(\"beforeChange\", { block, value: this.value });\r\n      });\r\n      return block;\r\n    });\r\n  }\r\n\r\n  get value() {\r\n    return this.fields\r\n      .filter((o) => !!o.value)\r\n      .map((o) => ({ name: o.prop || o.name, value: o.value }));\r\n  }\r\n  getByName(name) {\r\n    return this.fields.find((f) => f.name === name);\r\n  }\r\n\r\n  changePaused(val) {\r\n    if (typeof val === \"undefined\") {\r\n      return this.#pausedChange;\r\n    }\r\n    this.#pausedChange = val === true;\r\n  }\r\n\r\n  setValue(value, trigger = true) {\r\n    if (!trigger) {\r\n      this.changePaused(true);\r\n    }\r\n    this.value = value;\r\n    if (!trigger) {\r\n      this.changePaused(false);\r\n    }\r\n  }\r\n\r\n  set value(value) {\r\n    const changePaused = this.changePaused();\r\n    if (Array.isArray(value)) {\r\n      value.forEach((o) => {\r\n        const field = this.getByName(o.name);\r\n        if (field) {\r\n          field.setValue(o.value, !changePaused);\r\n        }\r\n      });\r\n    } else {\r\n      for (let i in value) {\r\n        const field = this.getByName(i);\r\n        if (field) {\r\n          field.setValue(value[i], !changePaused);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/guicss.js?\n}");

/***/ }),

/***/ "./js/icons.js":
/*!*********************!*\
  !*** ./js/icons.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   icon: () => (/* binding */ icon)\n/* harmony export */ });\nconst icons = {\r\n  edit: `<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 -960 960 960\"  fill=\"currentColor\"><path d=\"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z\"/></svg>`,\r\n  more: `<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 -960 960 960\"  fill=\"currentColor\"><path d=\"M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z\"/></svg>`,\r\n  copy: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" fill=\"currentColor\"><path d=\"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z\"/></svg>`,\r\n  clone: `\r\n<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\r\n    <g fill=\"currentColor\">\r\n        <path d=\"M10.75 8a.75.75 0 01.75.75V10h1.25a.75.75 0 010 1.5H11.5v1.25a.75.75 0 01-1.5 0V11.5H8.75a.75.75 0 010-1.5H10V8.75a.75.75 0 01.75-.75z\"/>\r\n        <path fill-rule=\"evenodd\" d=\"M0 2.25A2.25 2.25 0 012.25 0h6a2.25 2.25 0 012.25 2.25V5.5h3.25A2.25 2.25 0 0116 7.75v6A2.25 2.25 0 0113.75 16h-6a2.25 2.25 0 01-2.25-2.25V10.5H2.25A2.25 2.25 0 010 8.25v-6zm9 0V5.5H7.707A.749.749 0 007 4.5H3.5a.75.75 0 000 1.5h2.836A2.246 2.246 0 005.5 7.75V9H2.25a.75.75 0 01-.75-.75v-6a.75.75 0 01.75-.75h6a.75.75 0 01.75.75zm-2 11.5v-6A.75.75 0 017.75 7h6a.75.75 0 01.75.75v6a.75.75 0 01-.75.75h-6a.75.75 0 01-.75-.75z\" clip-rule=\"evenodd\"/>\r\n    </g>\r\n</svg>\r\n`,\r\n  copyStyle: `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"   fill=\"currentColor\"><path d=\"M440-80q-33 0-56.5-23.5T360-160v-160H240q-33 0-56.5-23.5T160-400v-280q0-66 47-113t113-47h480v440q0 33-23.5 56.5T720-320H600v160q0 33-23.5 56.5T520-80h-80ZM240-560h480v-200h-40v160h-80v-160h-40v80h-80v-80H320q-33 0-56.5 23.5T240-680v120Zm0 160h480v-80H240v80Zm0 0v-80 80Z\"/></svg>`,\r\n  delete: `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\"   viewBox=\"0 -960 960 960\"  fill=\"currentColor\"><path d=\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\"/></svg>`,\r\n  paste: `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 -960 960 960\"  fill=\"currentColor\"><path d=\"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z\"/></svg>`,\r\n  undo: `<svg xmlns=\"http://www.w3.org/2000/svg\"   viewBox=\"0 -960 960 960\"  ill=\"currentColor\"><path d=\"M280-200v-80h284q63 0 109.5-40T720-420q0-60-46.5-100T564-560H312l104 104-56 56-200-200 200-200 56 56-104 104h252q97 0 166.5 63T800-420q0 94-69.5 157T564-200H280Z\"/></svg>`,\r\n  redo: `<svg xmlns=\"http://www.w3.org/2000/svg\"   viewBox=\"0 -960 960 960\"   fill=\"currentColor\"><path d=\"M396-200q-97 0-166.5-63T160-420q0-94 69.5-157T396-640h252L544-744l56-56 200 200-200 200-56-56 104-104H396q-63 0-109.5 40T240-420q0 60 46.5 100T396-280h284v80H396Z\"/></svg>`,\r\n  noop: ``,\r\n};\r\n\r\nconst icon = (name) => {\r\n  return icons[name] || \"\";\r\n};\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/icons.js?\n}");

/***/ }),

/***/ "./js/layout-builder.js":
/*!******************************!*\
  !*** ./js/layout-builder.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LayoutManagerComponent: () => (/* binding */ LayoutManagerComponent)\n/* harmony export */ });\n/* harmony import */ var _module_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./module/module.js */ \"./js/module/module.js\");\n\r\n\r\nclass LayoutBuilderService {\r\n  _events = {};\r\n  on(e, f) {\r\n    this._events[e] ? this._events[e].push(f) : (this._events[e] = [f]);\r\n  }\r\n  dispatch(e, f) {\r\n    this._events[e]\r\n      ? this._events[e].forEach(function (c) {\r\n          c.call(this, f);\r\n        })\r\n      : \"\";\r\n  }\r\n\r\n  delete(target) {\r\n    if (confirm(\"Are you sure you want to delete selected element?\")) {\r\n      target.style.opacity = 0;\r\n      const handleEnd = () => {\r\n        target.remove();\r\n        this.dispatch(\"change\");\r\n      };\r\n\r\n      target.addEventListener(\"transitionend\", handleEnd);\r\n    }\r\n  }\r\n  moveUp(target) {\r\n    let prev = target.previousElementSibling;\r\n    if (!prev) return;\r\n    let offTarget = target.getBoundingClientRect();\r\n    let offPrev = prev.getBoundingClientRect();\r\n    let to = 0;\r\n\r\n    if (offTarget.top > offPrev.top) {\r\n      to = -(offTarget.top - offPrev.top);\r\n    }\r\n\r\n    target.style.transform = \"translateY(\" + to + \"px)\";\r\n    prev.style.transform = \"translateY(\" + -to + \"px)\";\r\n\r\n    const handleEnd = () => {\r\n      //prev.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"start\"});\r\n      prev.parentNode.insertBefore(target, prev);\r\n\r\n      prev.style.transition = \"none\";\r\n      target.style.transition = \"none\";\r\n\r\n      setTimeout(() => {\r\n        target.style.transition = \"\";\r\n        prev.style.transition = \"\";\r\n      });\r\n\r\n      target.style.transform = \"\";\r\n      prev.style.transform = \"\";\r\n\r\n      target.removeEventListener(\"transitionend\", handleEnd);\r\n      this.dispatch(\"change\");\r\n      this.dispatch(\"moveUp\", target);\r\n    };\r\n\r\n    target.addEventListener(\"transitionend\", handleEnd);\r\n  }\r\n\r\n  moveDown(target) {\r\n    let next = target.nextElementSibling;\r\n    if (!next) return;\r\n    let offTarget = target.getBoundingClientRect();\r\n    let offnext = next.getBoundingClientRect();\r\n    let to = 0;\r\n\r\n    if (offTarget.top < offnext.top) {\r\n      to = -(offTarget.top - offnext.top);\r\n    }\r\n    target.style.transform = \"translateY(\" + to + \"px)\";\r\n    next.style.transform = \"translateY(\" + -to + \"px)\";\r\n    const handleEnd = () => {\r\n      //next.scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"start\"});\r\n      next.parentNode.insertBefore(next, target);\r\n\r\n      next.style.transition = \"none\";\r\n      target.style.transition = \"none\";\r\n\r\n      setTimeout(() => {\r\n        target.style.transition = \"\";\r\n        next.style.transition = \"\";\r\n      });\r\n\r\n      target.style.transform = \"\";\r\n      next.style.transform = \"\";\r\n\r\n      target.removeEventListener(\"transitionend\", handleEnd);\r\n      this.dispatch(\"change\");\r\n      this.dispatch(\"moveDown\", target);\r\n    };\r\n\r\n    target.addEventListener(\"transitionend\", handleEnd);\r\n  }\r\n\r\n  clone(target) {\r\n    const clone = document.createElement(\"div\");\r\n    clone.innerHTML = `<div class=\"section-content\"></div><div class=\"layout-menu\"></div>`;\r\n    const comtentBlock = clone.querySelector(\".section-content\");\r\n    clone.className = `section`;\r\n    clone.setAttribute(\"style\", target.getAttribute(\"style\"));\r\n    comtentBlock.setAttribute(\r\n      \"style\",\r\n      target.querySelector(\".section-content\").getAttribute(\"style\")\r\n    );\r\n    clone.dataset.id = $ir.prefix(Date.now());\r\n    target.after(clone);\r\n\r\n    target.querySelectorAll(\".component\").forEach((e) => {\r\n      const neNode = TargetMethods.clone(e, false);\r\n      comtentBlock.append(neNode);\r\n      (0,_module_module_js__WEBPACK_IMPORTED_MODULE_0__.renderModule)(neNode);\r\n    });\r\n\r\n    this.nav(clone);\r\n    this.dispatch(\"change\");\r\n    this.dispatch(\"clone\", clone);\r\n    clone.scrollIntoView({\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  buttonsVisibility(root) {\r\n    const all = root.querySelectorAll(\".layout-menu\");\r\n    all.forEach((node, i) => {\r\n      node.querySelector('[data-action=\"moveUp\"]').style.display =\r\n        i === 0 ? \"none\" : \"\";\r\n      node.querySelector('[data-action=\"moveDown\"]').style.display =\r\n        i === all.length - 1 ? \"none\" : \"\";\r\n    });\r\n  }\r\n  nav(layout) {\r\n    const template = `\r\n        <ul class=\"menu bg-base-200 rounded-box\">\r\n            <li>\r\n                <a class=\"tooltip tooltip-left\" data-tip=\"Move Up\" data-action=\"moveUp\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"\t\" viewBox=\"0 -960 960 960\"><path d=\"M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z\"/></svg>\r\n                </a>\r\n            </li>\r\n\r\n            <li>\r\n                <a class=\"tooltip tooltip-left\" data-tip=\"Move down\" data-action=\"moveDown\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"\" viewBox=\"0 -960 960 960\"><path d=\"M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z\"/></svg>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class=\"tooltip tooltip-left\" data-tip=\"Clone\" data-action=\"clone\">\r\n\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\"  class=\"\" viewBox=\"0 -960 960 960\"><path d=\"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z\"/></svg>                    \r\n                </a>\r\n            </li>\r\n                <li>\r\n                <a class=\"tooltip tooltip-left\" data-tip=\"Delete\" data-action=\"delete\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"\t\" viewBox=\"0 -960 960 960\"><path d=\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\"/></svg>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        `;\r\n\r\n    const nav =\r\n      layout.querySelector(\".layout-menu\") || document.createElement(\"div\");\r\n    nav.className = \"layout-menu\";\r\n    nav.innerHTML = template;\r\n    nav.querySelectorAll(\"[data-action]\").forEach((node) => {\r\n      node.addEventListener(\"click\", () => {\r\n        this[node.dataset.action](layout);\r\n      });\r\n    });\r\n    layout.appendChild(nav);\r\n    layout.__mounted = true;\r\n    return nav;\r\n  }\r\n}\r\n\r\nclass LayoutManagerComponent {\r\n  constructor(target) {\r\n    this.layoutService = new LayoutBuilderService();\r\n    this.target = target;\r\n    this.mount();\r\n    this.layoutService.buttonsVisibility(this.target);\r\n    this.layoutService.on(\"change\", () => {\r\n      setTimeout(() => {\r\n        this.layoutService.buttonsVisibility(this.target);\r\n      });\r\n    });\r\n  }\r\n\r\n  nav(layout) {\r\n    return this.layoutService.nav(layout);\r\n  }\r\n\r\n  mount() {\r\n    this.target.querySelectorAll(\".section\").forEach((node) => {\r\n      if (!node.__mounted) {\r\n        node.__mounted = true;\r\n        this.nav(node);\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/layout-builder.js?\n}");

/***/ }),

/***/ "./js/module/module-config.js":
/*!************************************!*\
  !*** ./js/module/module-config.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModuleConfig: () => (/* binding */ ModuleConfig),\n/* harmony export */   getModuleConfig: () => (/* binding */ getModuleConfig),\n/* harmony export */   getOwner: () => (/* binding */ getOwner),\n/* harmony export */   getOwnerId: () => (/* binding */ getOwnerId),\n/* harmony export */   saveModuleStyle: () => (/* binding */ saveModuleStyle)\n/* harmony export */ });\n/* harmony import */ var _dialog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dialog.js */ \"./js/dialog.js\");\n/* harmony import */ var _guicss_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../guicss.js */ \"./js/guicss.js\");\n/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./module.js */ \"./js/module/module.js\");\n \r\n\r\n\r\n\r\n\r\nconst ModuleConfig = (instance) => {\r\n    const {schema} = instance;\r\n\r\n \r\n\r\n    schema.unshift({\r\n        props: {type: 'hidden'},\r\n        name: 'name',\r\n    });\r\n\r\n\r\n \r\n    \r\n\r\n    setTimeout(() => {\r\n        const templates = instance.getTemplatesAsOptions();\r\n        if (templates.length > 1) {\r\n            schema.unshift({\r\n                label: \"Template\",\r\n                options:  templates,\r\n                type: 'previewSelect',\r\n                name: 'template',\r\n            })\r\n        } else {\r\n            schema.unshift({\r\n                 props: {type: 'hidden'},\r\n                name: 'template',\r\n            })\r\n        }\r\n        \r\n    })\r\n\r\n    if(!globalThis.__moduleConfig) {\r\n \r\n        const conf =  {\r\n            dialog: new _dialog_js__WEBPACK_IMPORTED_MODULE_0__.CDialog()\r\n        }\r\n \r\n        globalThis.__moduleConfig = conf; \r\n         \r\n    }\r\n\r\n    const conf = globalThis.__moduleConfig;\r\n \r\n\r\n   const open = (value) => {\r\n        conf.dialog.html('');\r\n \r\n        const editor = new _guicss_js__WEBPACK_IMPORTED_MODULE_1__.GUIEditor({\r\n            target: conf.dialog.node,\r\n            schema\r\n        });\r\n\r\n        conf.dialog.title(value.name);\r\n        editor.setValue(value, false);\r\n\r\n        let _changed = 0;\r\n        \r\n        editor.on('beforeChange', data => {\r\n \r\n            if(_changed === 0) {\r\n                  \r\n                instance.root.stateManager.record({\r\n                    type: 'settings',\r\n                    value: getModuleConfig(instance.target()    ),\r\n                    id: instance.target().dataset.id\r\n                }, true)\r\n            }\r\n            console.log(instance.root.stateManager)\r\n        })\r\n        editor.on('change', data => {\r\n             \r\n            _changed++;\r\n\r\n             const rec = {};\r\n\r\n             data.forEach(element => {\r\n                rec[element.name] = element.value;  \r\n             });\r\n\r\n             \r\n\r\n            instance.root.stateManager.record({\r\n                type: 'settings',\r\n                value: rec,\r\n                id: instance.target().dataset.id\r\n            })\r\n\r\n\r\n        });\r\n        \r\n        conf.dialog.open();\r\n        return editor\r\n   };\r\n\r\n   return open;\r\n \r\n}\r\n\r\n\r\nconst getOwner = (target) => {\r\n    return target.closest('.section')\r\n}\r\n\r\nconst getOwnerId = (target) => {\r\n    return getOwner(target).dataset.id;\r\n}\r\n\r\nconst saveModuleStyle = (target) => {\r\n    const conf = getModuleConfig(target);\r\n    const css = target.getAttribute('style');\r\n    conf.css = css;\r\n\r\n    (0,_module_js__WEBPACK_IMPORTED_MODULE_2__.setModuleConfig)(target, conf);\r\n}\r\n\r\n\r\nconst getModuleConfig = (target) => {\r\n \r\n    const js = target.querySelector(\"script[type='settings/json']\");\r\n\r\n    if(!js) {\r\n        return {}\r\n    } else {\r\n        try {\r\n            target.$cache = JSON.parse(js.textContent.trim())\r\n            return target.$cache;\r\n        } catch (e) {\r\n            console.log(e)\r\n            return {}\r\n        }\r\n    }\r\n}\r\n\r\n$ir.getModuleConfig = getModuleConfig;\n\n//# sourceURL=webpack://pdf-editor/./js/module/module-config.js?\n}");

/***/ }),

/***/ "./js/module/module.js":
/*!*****************************!*\
  !*** ./js/module/module.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateModule: () => (/* binding */ CreateModule),\n/* harmony export */   _Modules: () => (/* binding */ _Modules),\n/* harmony export */   getModule: () => (/* binding */ getModule),\n/* harmony export */   renderModule: () => (/* binding */ renderModule),\n/* harmony export */   setModuleConfig: () => (/* binding */ setModuleConfig)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core.js */ \"./js/core.js\");\n/* harmony import */ var _module_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./module-config.js */ \"./js/module/module-config.js\");\n\r\n\r\n\r\nclass ModuleRegistry extends _core_js__WEBPACK_IMPORTED_MODULE_0__.CreateState {\r\n  constructor(state = {}) {\r\n    super();\r\n    this.setState(state, false);\r\n  }\r\n\r\n  addModule(module) {\r\n    const state = { ...this.getState() };\r\n    if (state[module.name]) {\r\n      delete state[module.name];\r\n    }\r\n    state[module.name] = module;\r\n    this.setState(state, true);\r\n  }\r\n\r\n  removeModule(moduleName) {\r\n    const state = { ...this.getState() };\r\n    if (state[moduleName]) {\r\n      delete state[moduleName];\r\n      this.setState(state, true);\r\n    }\r\n  }\r\n\r\n  addTemplate(moduleName, templateDate) {}\r\n\r\n  toArray() {\r\n    const state = this.getState();\r\n    return Object.keys(state).map((key) => state[key]);\r\n  }\r\n}\r\n\r\nconst _Modules = {};\r\n\r\nconst renderModule = (target) => {\r\n  const conf = (0,_module_config_js__WEBPACK_IMPORTED_MODULE_1__.getModuleConfig)(target);\r\n  const name = conf.name || \"\";\r\n\r\n  if (_Modules[name]) {\r\n    _Modules[name].render(target);\r\n  }\r\n};\r\n\r\nconst getModule = (name) => {\r\n  if (_Modules[name]) {\r\n    return _Modules[name];\r\n  }\r\n};\r\n\r\nconst setModuleConfig = (target, config) => {\r\n  let js = target.querySelector(\"script[type='settings/json']\");\r\n  if (!js) {\r\n    js = document.createElement(\"script\");\r\n    js.type = \"settings/json\";\r\n    target.appendChild(js);\r\n  }\r\n\r\n  js.textContent = JSON.stringify(config);\r\n};\r\n\r\nclass CreateModule {\r\n  constructor(options = {}) {\r\n    this.options = options;\r\n    this.name = options.name;\r\n    this.schema = options.schema;\r\n    _Modules[this.name] = this;\r\n\r\n    this.defaults = options.defaults;\r\n\r\n    this.editor = (0,_module_config_js__WEBPACK_IMPORTED_MODULE_1__.ModuleConfig)(this);\r\n  }\r\n\r\n  #templates = {};\r\n  #target = null;\r\n\r\n  target(target) {\r\n    if (typeof target === \"undefined\") {\r\n      return this.#target;\r\n    }\r\n    this.#target = target;\r\n  }\r\n\r\n  getTemplatesAsOptions() {\r\n    return Object.keys(this.#templates)\r\n      .sort()\r\n      .map((key) => {\r\n        const target = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.$)(\"div\", { className: \"template-preview-option\" });\r\n        const preview = this.#templates[key](target, this.defaults || {});\r\n\r\n        return { value: key, content: target.outerHTML };\r\n      });\r\n  }\r\n\r\n  addTemplate(name, render) {\r\n    this.#templates[name] = render;\r\n  }\r\n\r\n  getConfig(target) {\r\n    return (0,_module_config_js__WEBPACK_IMPORTED_MODULE_1__.getModuleConfig)(target);\r\n  }\r\n\r\n  setConfig(target, config) {\r\n    return setModuleConfig(target, config);\r\n  }\r\n\r\n  applyTemplate(target, name) {\r\n    const conf = this.getConfig(target);\r\n    conf.template = name;\r\n    this.setConfig(target, conf);\r\n    if (target && this.#templates[name]) {\r\n      let htarget = target.querySelector(\".component-content\");\r\n      if (!htarget) {\r\n        htarget = document.createElement(\"div\");\r\n        htarget.className = \"component-content\";\r\n        target.appendChild(htarget);\r\n      }\r\n      this.#templates[name](htarget, conf);\r\n    }\r\n  }\r\n\r\n  render(target) {\r\n    const conf = this.getConfig(target);\r\n    if (!conf.template) {\r\n      conf.template = \"default\";\r\n      this.setConfig(target, conf);\r\n    }\r\n    if (conf.css) {\r\n      target.setAttribute(\"style\", conf.css);\r\n    }\r\n\r\n    this.applyTemplate(target, conf.template);\r\n  }\r\n\r\n  select({ target, event }) {\r\n    this.target(target);\r\n\r\n    if (this.options.onSelect) {\r\n      this.options.onSelect({ target, event });\r\n    }\r\n  }\r\n\r\n  unSelect({ target, event }) {\r\n    if (this.options.onUnSelect) {\r\n      this.options.onUnSelect({ target, event });\r\n    }\r\n  }\r\n  edit({ target, event }) {\r\n    this.target(target);\r\n    if (this.options.onEdit) {\r\n      this.options.onEdit({ target, event });\r\n    }\r\n    const conf = this.getConfig(target);\r\n    this.editor(conf).on(\"change\", (val) => {\r\n      const res = {};\r\n      val.forEach((o) => {\r\n        res[o.name] = o.value;\r\n      });\r\n\r\n      this.setConfig(target, res);\r\n      this.render(target);\r\n    });\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/module/module.js?\n}");

/***/ }),

/***/ "./js/module/state-manager.js":
/*!************************************!*\
  !*** ./js/module/state-manager.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateManager: () => (/* binding */ StateManager)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core.js */ \"./js/core.js\");\n/* harmony import */ var _modules_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules.js */ \"./js/modules.js\");\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../state.js */ \"./js/state.js\");\n/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./module.js */ \"./js/module/module.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/* \r\n    State types\r\n\r\n    elements and layouts must have id\r\n\r\n \r\n    {\r\n        id: \"settings\",\r\n        type: \"settings\",\r\n        value: {\"name\":\"image\",\"template\":\"default\",\"file\":\"...\"}\r\n    }\r\n\r\n    {\r\n        type: \"restore\"\r\n        value: {\"name\":\"image\",\"template\":\"default\",\"file\":\"...\"},\r\n        layoutIndex: 0\r\n    }\r\n\r\n    {\r\n        type: \"layoutRestore\"\r\n        value: [{\"name\":\"image\",\"template\":\"default\",\"file\":\"...\"}, {....}],\r\n        index: 0\r\n    }\r\n\r\n    {\r\n        type: \"layoutsPosition\"\r\n        value: ['some-id', 'some-other-id'],\r\n        index: 0\r\n    }\r\n\r\n*/\r\n\r\n\r\nconst stateTypes = {\r\n    settings: (data, instance) => {\r\n        const {value, id} = data;\r\n        const node = document.querySelector('[data-id=\"'+id+'\"]');\r\n\r\n \r\n        if(node) {\r\n            (0,_module_js__WEBPACK_IMPORTED_MODULE_3__.setModuleConfig)(node, value);\r\n            (0,_module_js__WEBPACK_IMPORTED_MODULE_3__.renderModule)(node);\r\n        }\r\n    },\r\n    css: (data, instance) => {\r\n        const {value, id} = data;\r\n        const node = document.querySelector('[data-id=\"'+id+'\"]');\r\n        if(node) {\r\n            node.setAttribute('style', value);\r\n            instance.sync(node);\r\n        }\r\n    },\r\n    deletion: (data, instance) => {\r\n        const {value, idm, layout} = data;\r\n        const layoutnode = document.querySelector('[data-id=\"'+layout+'\"]');\r\n\r\n \r\n        if(layoutnode) {\r\n            const restored = (0,_modules_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(value);\r\n            restored.dataset.id = idm\r\n            layoutnode.querySelector('.section-content').appendChild(restored);\r\n            (0,_module_js__WEBPACK_IMPORTED_MODULE_3__.renderModule)(restored)\r\n        }\r\n    },\r\n}\r\n\r\nclass StateManager extends _core_js__WEBPACK_IMPORTED_MODULE_0__.CreateBase {\r\n    constructor(instance) {\r\n        super();\r\n        this.state = new _state_js__WEBPACK_IMPORTED_MODULE_2__.State();\r\n        this.state.on('change', data => {\r\n            console.log(data);\r\n            if(data.active && stateTypes[data.active.type]) {\r\n                stateTypes[data.active.type](data.active, instance);\r\n                if(instance.activeNode() && instance.activeNode().moveable) {\r\n                    instance.activeNode().moveable.updateRect();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    #timer = null;\r\n\r\n    record(data, immediate = false){\r\n        if(immediate){\r\n            this.state.record(data);\r\n            return;\r\n        }\r\n        clearTimeout(this.#timer);\r\n        this.#timer = setTimeout(()=> this.state.record(data), 200);\r\n    }\r\n\r\n    undo() {\r\n        this.state.undo();\r\n    }\r\n    redo() {\r\n        this.state.redo();\r\n    }\r\n}\n\n//# sourceURL=webpack://pdf-editor/./js/module/state-manager.js?\n}");

/***/ }),

/***/ "./js/modules.js":
/*!***********************!*\
  !*** ./js/modules.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModulesInit: () => (/* binding */ ModulesInit),\n/* harmony export */   createModule: () => (/* binding */ createModule)\n/* harmony export */ });\n/* harmony import */ var _icons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icons.js */ \"./js/icons.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n/* harmony import */ var _module_module_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./module/module-config.js */ \"./js/module/module-config.js\");\n/* harmony import */ var _module_module_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./module/module.js */ \"./js/module/module.js\");\n\r\n\r\n\r\n\r\n\r\naddEventListener(\"load\", () => {\r\n  document.querySelectorAll(\".component\").forEach((el) => {\r\n    (0,_module_module_js__WEBPACK_IMPORTED_MODULE_3__.renderModule)(el);\r\n  });\r\n\r\n  $ir.componentHandle.on(\"selectStart\", (data) => {\r\n    const conf = (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getModuleConfig)(data.target);\r\n    const name = conf.name || \"\";\r\n    (0,_module_module_js__WEBPACK_IMPORTED_MODULE_3__.getModule)(name).edit(data);\r\n  });\r\n\r\n  $ir.componentHandle.on(\"select\", (data) => {\r\n    const conf = (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getModuleConfig)(data.target);\r\n    const name = conf.name || \"\";\r\n    (0,_module_module_js__WEBPACK_IMPORTED_MODULE_3__.getModule)(name).select(data);\r\n  });\r\n});\r\n\r\nconst moduleContextMenu = (data) => {\r\n  const ul = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.$)(\"ul\");\r\n\r\n  data.forEach((el) => {\r\n    ul.append(moduleMenuItem(el));\r\n  });\r\n  return ul;\r\n};\r\nconst moduleContextMenuItem = (item) => {\r\n  const li = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.$)(\"li\", {\r\n    dataset: { action: item.action },\r\n  });\r\n\r\n  li.innerHTML = `\r\n        <span>${item.icon}</span>\r\n        ${item.label ? `<span>${item.label}</span>` : ``}\r\n    `;\r\n\r\n  if (item.content) {\r\n    li.appendChild(moduleContextMenu(item.content));\r\n  }\r\n  return li;\r\n};\r\n\r\nconst defaultMenu = [\r\n  { $hook: \"prepend\" },\r\n  { action: \"clone\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"clone\"), label: \"Duplicate\" },\r\n  { $hook: \"append\" },\r\n  { action: \"delete\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"delete\"), label: \"Delete\" },\r\n  {\r\n    icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"more\"),\r\n    content: [\r\n      { $hook: \"prependSubmenu\" },\r\n      { action: \"copy\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"copy\"), label: \"Copy\" },\r\n      { action: \"copyStyle\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"copyStyle\"), label: \"Copy Style\" },\r\n      { action: \"paste\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"paste\"), label: \"paste\" },\r\n      { action: \"clone\", icon: (0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"clone\"), label: \"clone\" },\r\n      { $hook: \"appendSubmenu\" },\r\n    ],\r\n  },\r\n];\r\n\r\nconst moduleMenu = (node) => {\r\n  const defaultMenu = `<ul><li data-action=\"clone\">\r\n            <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"clone\")}</span>\r\n            <span>Duplicate</span>\r\n        </li>\r\n        <li data-action=\"delete\">\r\n            <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"delete\")}</span>\r\n            <span>Delete</span>\r\n        </li>\r\n        <li>\r\n            <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"more\")}</span>\r\n            <ul>\r\n                <li data-action=\"copy\">\r\n                     <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"copy\")}</span>\r\n                     <span>Copy</span>\r\n                </li>\r\n                <li data-action=\"copyStyle\">\r\n                     <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"copyStyle\")}</span>\r\n                     <span>Copy style</span>\r\n                </li>\r\n                <li data-action=\"paste\">\r\n                     <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"paste\")}</span>\r\n                     <span>Paste</span>\r\n                </li>\r\n                <li data-action=\"clone\">\r\n                    <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"clone\")}</span>\r\n                    <span>Duplicate</span>\r\n                </li>\r\n                \r\n            </ul>\r\n        </li></ul>`;\r\n\r\n  const isText = node.type === \"text\";\r\n\r\n  const conf = (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getModuleConfig)(node);\r\n\r\n  const edit = `\r\n    <ul>\r\n        <li data-action=\"edit\">\r\n            <span>${(0,_icons_js__WEBPACK_IMPORTED_MODULE_0__.icon)(\"edit\")}</span>\r\n            <span>edit</span>\r\n        </li>\r\n\r\n    </ul>\r\n`;\r\n  return defaultMenu;\r\n};\r\n\r\nclass Handle extends _core_js__WEBPACK_IMPORTED_MODULE_1__.CreateBase {\r\n  constructor(options = {}) {\r\n    super();\r\n    document.body.appendChild(this.#root);\r\n    this.#root.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\"[data-action]\");\r\n      if (target) {\r\n        this.dispatch(target.dataset.action, this.target());\r\n      }\r\n    });\r\n  }\r\n\r\n  #target = null;\r\n  #root = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.$)(\"div\", {\r\n    className: `handle`,\r\n  });\r\n\r\n  #visible = false;\r\n\r\n  menu() {\r\n    this.#root.innerHTML = moduleMenu(this.target());\r\n\r\n    this.#root.querySelectorAll(\"li\").forEach((node) => {\r\n      const ul = Array.from(node.children).find((n) => n.nodeName === \"UL\");\r\n      if (ul) {\r\n        node.addEventListener(\"click\", (e) => {\r\n          node.classList.toggle(\"active\");\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  position() {\r\n    if (!this.target()) {\r\n      return;\r\n    }\r\n    const off = this.target().getBoundingClientRect();\r\n    const oTop = off.top + scrollY - 50;\r\n    const oleft = off.left + scrollX - 0;\r\n    this.#root.style.top = oTop + \"px\";\r\n    this.#root.style.left = oleft + \"px\";\r\n  }\r\n\r\n  show() {\r\n    this.#visible = true;\r\n    this.#root.classList.add(\"active\");\r\n    this.dispatch(\"show\");\r\n  }\r\n  hide() {\r\n    this.#visible = false;\r\n    this.#root.classList.remove(\"active\");\r\n    this.dispatch(\"hide\");\r\n  }\r\n\r\n  toggle() {\r\n    this.#visible ? this.hide() : this.show();\r\n  }\r\n\r\n  target(node) {\r\n    if (typeof node === \"undefined\") {\r\n      return this.#target;\r\n    }\r\n\r\n    this.#target = node;\r\n    if (this.#target) {\r\n      this.menu();\r\n      this.position();\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n}\r\n\r\nconst createModule = (options, css, id) => {\r\n  if (typeof options !== \"string\") {\r\n    options = JSON.stringify(options);\r\n  }\r\n  const component = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.$)({\r\n    className: \"component\",\r\n    content: [\r\n      { tag: \"script\", textContent: options, type: \"settings/json\" },\r\n      { className: \"component-content\" },\r\n    ],\r\n  });\r\n  if (css) {\r\n    component.setAttribute(\"style\", css);\r\n  }\r\n  if (id) {\r\n    component.dataset.id = id;\r\n  }\r\n  return component;\r\n};\r\n\r\nconst TargetMethods = {\r\n  clone: (target, output) => {\r\n    const css = target.getAttribute(\"style\");\r\n    const conf = (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getModuleConfig)(target);\r\n\r\n    const newModule = createModule(conf, css);\r\n\r\n    if (typeof output === \"undefined\") {\r\n      target.after(newModule);\r\n\r\n      const compStyle = getComputedStyle(newModule);\r\n\r\n      let cTop = compStyle.top;\r\n      let cLeft = compStyle.left;\r\n\r\n      cTop = parseFloat(cTop);\r\n      cLeft = parseFloat(cLeft);\r\n\r\n      if (!isNaN(cTop)) {\r\n        newModule.style.top = cTop + 20 + \"px\";\r\n      }\r\n      if (!isNaN(cLeft)) {\r\n        newModule.style.left = cLeft + 20 + \"px\";\r\n      }\r\n    } else if (output && output.nodeType === 1) {\r\n      output.append(newModule);\r\n    }\r\n\r\n    return newModule;\r\n  },\r\n};\r\n\r\nwindow.TargetMethods = TargetMethods;\r\n\r\nconst ModulesInit = (instance) => {\r\n  const handle = new Handle();\r\n\r\n  $ir.componentHandle = handle;\r\n\r\n  $ir.componentHandle.on(\"clone\", (target) => {\r\n    (0,_module_module_js__WEBPACK_IMPORTED_MODULE_3__.renderModule)(TargetMethods.clone(target));\r\n  });\r\n\r\n  $ir.componentHandle.on(\"delete\", (target) => {\r\n    (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.saveModuleStyle)(target);\r\n\r\n    instance.stateManager.record({\r\n      type: \"deletion\",\r\n      id: target.dataset.id,\r\n      value: (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getModuleConfig)(target),\r\n      layout: (0,_module_module_config_js__WEBPACK_IMPORTED_MODULE_2__.getOwnerId)(target),\r\n    });\r\n\r\n    target.moveable.destroy();\r\n    target.remove();\r\n    instance.activeNode(null);\r\n    handle.target(null);\r\n  });\r\n\r\n  const mdHandle = (e) => {\r\n    const target = e.target.closest(\".component\");\r\n    const isSystem = $ir.isSystem(e);\r\n    if (!target && isSystem) {\r\n    } else {\r\n      handle.target(target);\r\n    }\r\n  };\r\n\r\n  document.body.addEventListener(\"mousedown\", mdHandle);\r\n  document.body.addEventListener(\"touchstart\", mdHandle);\r\n};\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/modules.js?\n}");

/***/ }),

/***/ "./js/mount.js":
/*!*********************!*\
  !*** ./js/mount.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Editor: () => (/* binding */ Editor)\n/* harmony export */ });\n/* harmony import */ var _modules_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules.js */ \"./js/modules.js\");\n/* harmony import */ var _layout_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layout-builder.js */ \"./js/layout-builder.js\");\n/* harmony import */ var _guicss_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./guicss.js */ \"./js/guicss.js\");\n/* harmony import */ var _draggable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./draggable.js */ \"./js/draggable.js\");\n/* harmony import */ var _module_state_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./module/state-manager.js */ \"./js/module/state-manager.js\");\n/* harmony import */ var _module_module_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module/module.js */ \"./js/module/module.js\");\n/* harmony import */ var _dialog_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dialog.js */ \"./js/dialog.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n/* harmony import */ var _scale_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scale.js */ \"./js/scale.js\");\n/* harmony import */ var _toolbar_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./toolbar.js */ \"./js/toolbar.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst modules = {};\r\n\r\nclass Editor extends _core_js__WEBPACK_IMPORTED_MODULE_7__.CreateBase {\r\n  constructor(options) {\r\n    super();\r\n    const defaults = {};\r\n\r\n    this.settings = Object.assign({}, defaults, options);\r\n    this.stateManager = new _module_state_manager_js__WEBPACK_IMPORTED_MODULE_4__.StateManager(this);\r\n\r\n    this.mount();\r\n\r\n    this.#prepareModules();\r\n  }\r\n\r\n  #prepareModules() {\r\n    for (const module in modules) {\r\n      const inst = this.createModule(modules[module].module);\r\n      const templates = modules[module].templates;\r\n      for (const name in templates) {\r\n        inst.addTemplate(name, templates[name].render);\r\n      }\r\n    }\r\n  }\r\n\r\n  static addModule(module) {\r\n    if (!modules[module.name]) {\r\n      modules[module.name] = {\r\n        module,\r\n        templates: {},\r\n      };\r\n    } else {\r\n      modules[module.name].module = module;\r\n    }\r\n  }\r\n  static addModuleTemplate(moduleName, templateData) {\r\n    if (modules[moduleName]) {\r\n      modules[moduleName].templates[templateData.name] = templateData;\r\n    } else {\r\n      modules[moduleName] = {\r\n        module: () => {},\r\n        templates: {\r\n          [templateData.name]: templateData,\r\n        },\r\n      };\r\n    }\r\n  }\r\n\r\n  createModule = (options) => {\r\n    const Module = new _module_module_js__WEBPACK_IMPORTED_MODULE_5__.CreateModule(options);\r\n    Module.root = this;\r\n    return Module;\r\n  };\r\n\r\n  // mousedown and touchstart makes the element active\r\n  // when activenode changes it sets the selected node to null\r\n  #activeNode = null;\r\n  // when user clicks on element without dragging it\r\n  #selectedNode = null;\r\n  // keep refferernce for 'unselect' event\r\n  #previousActiveNode = null;\r\n\r\n  activeNode(node) {\r\n    if (typeof node === \"undefined\") {\r\n      return this.#activeNode;\r\n    }\r\n\r\n    this.#previousActiveNode = this.#activeNode;\r\n    this.#activeNode = node;\r\n    this.selectedNode(null);\r\n    this.dispatch(\"activeNode\", node);\r\n  }\r\n\r\n  selectedNode(node) {\r\n    if (typeof node === \"undefined\") {\r\n      return this.#selectedNode;\r\n    }\r\n\r\n    this.#selectedNode = node;\r\n    this.dispatch(\"selectedNode\", node);\r\n  }\r\n\r\n  GUIEditor() {\r\n    const dlg = new _dialog_js__WEBPACK_IMPORTED_MODULE_6__.CDialog({\r\n      mode: \"sidebar-start\",\r\n    });\r\n\r\n    dlg.title(\"Options\");\r\n    dlg.disable();\r\n    dlg.open();\r\n\r\n    this.guiEditor = new _guicss_js__WEBPACK_IMPORTED_MODULE_2__.GUIEditor({\r\n      target: dlg.node,\r\n      schema: _guicss_js__WEBPACK_IMPORTED_MODULE_2__.fields,\r\n    }).on(\"change\", (data) => {\r\n      if (this.activeNode()) {\r\n        data.forEach(\r\n          (o) => (this.activeNode().style[o.prop || o.name] = o.value)\r\n        );\r\n\r\n        this.activeNode().moveable.updateRect();\r\n\r\n        let immediate =\r\n          this.activeNode().dataset.id !==\r\n          this.stateManager.state.state()[0].id;\r\n\r\n        this.stateManager.record(\r\n          {\r\n            id: this.activeNode().dataset.id,\r\n            value: this.activeNode().getAttribute(\"style\"),\r\n            type: \"css\",\r\n          },\r\n          immediate\r\n        );\r\n      }\r\n    });\r\n\r\n    console.log(this.guiEditor);\r\n\r\n    this.on(\"activeNode\", (node) => {\r\n      if (node) {\r\n        dlg.enable();\r\n      } else {\r\n        dlg.disable();\r\n      }\r\n    });\r\n  }\r\n\r\n  sync(node) {\r\n    if (typeof node !== \"undefined\") {\r\n      this.activeNode(node);\r\n    }\r\n    if (!this.activeNode()) {\r\n      return;\r\n    }\r\n    const css = getComputedStyle(this.activeNode());\r\n\r\n    const val = _guicss_js__WEBPACK_IMPORTED_MODULE_2__.fields.map((o) => {\r\n      const number = parseFloat(css[o.name]);\r\n      let value = isNaN(number) ? css[o.name] : Math.round(number);\r\n      if (value === \"normal\") {\r\n        value = 0;\r\n      }\r\n      return {\r\n        name: o.name,\r\n        value,\r\n      };\r\n    });\r\n\r\n    this.guiEditor.setValue(val, false);\r\n  }\r\n\r\n  #id = Date.now();\r\n\r\n  id() {\r\n    return $ir.prefix(this.#id++);\r\n  }\r\n\r\n  handleMouseDown(e) {\r\n    const node = e.target.closest(\".component\");\r\n\r\n    const isSystem = $ir.isSystem(e);\r\n    if (isSystem) {\r\n      return;\r\n    }\r\n\r\n    document.querySelectorAll(\".component.active\").forEach((c) => {\r\n      if (node !== c) {\r\n        c.classList.remove(\"active\");\r\n      }\r\n    });\r\n\r\n    (0,_draggable_js__WEBPACK_IMPORTED_MODULE_3__.initDraggable)(this);\r\n    if (!node) {\r\n      document\r\n        .querySelectorAll(\".editing\")\r\n        .forEach((n) => n.classList.remove(\"editing\"));\r\n      if (this.activeNode() && this.activeNode().moveable) {\r\n        this.activeNode().moveable.selfElement.style.display = \"none\";\r\n      }\r\n      this.activeNode(null);\r\n    } else {\r\n      if (!node.dataset.id) {\r\n        node.dataset.id = this.id();\r\n      }\r\n      if (this.activeNode() !== node) {\r\n        document\r\n          .querySelectorAll(\".editing\")\r\n          .forEach((n) => n.classList.remove(\"editing\"));\r\n        if (this.activeNode() && this.activeNode().moveable) {\r\n          this.activeNode().moveable.selfElement.style.display = \"none\";\r\n        }\r\n        this.activeNode(node);\r\n        if (this.activeNode().moveable) {\r\n          this.activeNode().moveable.updateRect();\r\n          this.activeNode().moveable.selfElement.style.display = \"\";\r\n        }\r\n        node.classList.add(\"active\");\r\n        $ir.componentHandle.dispatch(\"selectStart\", {\r\n          target: node,\r\n          event: e,\r\n        });\r\n      }\r\n\r\n      this.sync();\r\n    }\r\n  }\r\n\r\n  events() {\r\n    document.body.addEventListener(\r\n      \"mousedown\",\r\n      this.handleMouseDown.bind(this)\r\n    );\r\n    document.body.addEventListener(\r\n      \"touchstart\",\r\n      this.handleMouseDown.bind(this)\r\n    );\r\n\r\n    document.body.addEventListener(\"click\", (e) => {\r\n      const isSystem = $ir.isSystem(e);\r\n\r\n      if (isSystem) {\r\n        return;\r\n      }\r\n\r\n      const node = e.target.closest(\".component\");\r\n\r\n      if (!node) {\r\n        this.selectedNode(null);\r\n        return;\r\n      }\r\n\r\n      if (node && this.selectedNode() !== node) {\r\n        this.selectedNode(node);\r\n\r\n        $ir.componentHandle.dispatch(\"select\", {\r\n          target: node,\r\n          event: e,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  mount() {\r\n    this.scale = new _scale_js__WEBPACK_IMPORTED_MODULE_8__.ScaleService(this);\r\n    this.toolbar = (0,_toolbar_js__WEBPACK_IMPORTED_MODULE_9__.Toolbar)(this);\r\n\r\n    document.body.append(this.toolbar.node);\r\n\r\n    (0,_modules_js__WEBPACK_IMPORTED_MODULE_0__.ModulesInit)(this);\r\n    new _layout_builder_js__WEBPACK_IMPORTED_MODULE_1__.LayoutManagerComponent(this.settings.sections);\r\n    this.GUIEditor();\r\n\r\n    this.events();\r\n\r\n    (0,_draggable_js__WEBPACK_IMPORTED_MODULE_3__.initDraggable)(this);\r\n  }\r\n}\r\n\r\nglobalThis.Editor = Editor;\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/mount.js?\n}");

/***/ }),

/***/ "./js/scale.js":
/*!*********************!*\
  !*** ./js/scale.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScaleService: () => (/* binding */ ScaleService)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n\r\n\r\nclass ScaleService extends _core_js__WEBPACK_IMPORTED_MODULE_0__.CreateBase {\r\n  constructor(instance) {\r\n    super();\r\n    this.instance = instance;\r\n  }\r\n  #value = null;\r\n  scale(value) {\r\n    const targets =\r\n      this.instance.toolbar.node.ownerDocument.querySelectorAll(\r\n        \".section-content\"\r\n      );\r\n    const scale = Number(value);\r\n\r\n    if (isNaN(scale) || this.#value === scale) {\r\n      return;\r\n    }\r\n\r\n    this.#value = scale;\r\n\r\n    const percent = Math.round(scale * 100);\r\n\r\n    targets.forEach((target) => {\r\n      const parent = target.parentElement;\r\n      if (!parent.dataset.width) {\r\n        parent.dataset.width = parent.offsetWidth;\r\n        parent.dataset.height = parent.offsetHeight;\r\n      }\r\n\r\n      var newWidth = Number(parent.dataset.width) * scale;\r\n      var newHeight = Number(parent.dataset.height) * scale;\r\n\r\n      target.style.transformOrigin = \"center top\";\r\n      //target.style.transform = 'scale(' + scale + ')';\r\n      target.style.zoom = scale;\r\n      parent.style.width = newWidth + \"px\";\r\n      parent.style.height = newHeight + \"px\";\r\n    });\r\n\r\n    document.querySelectorAll(\".component.draggable.active\").forEach((node) => {\r\n      if (node.moveable) {\r\n        node.moveable.updateRect();\r\n      }\r\n    });\r\n\r\n    $ir.componentHandle.position();\r\n\r\n    this.dispatch(\"change\", { value: scale, percent });\r\n  }\r\n\r\n  fit(e) {\r\n    let space = getComputedStyle(this.instance.toolbar.node).getPropertyValue(\r\n      \"--toolbar-height\"\r\n    );\r\n\r\n    space = parseFloat(space);\r\n\r\n    if (isNaN(space)) {\r\n      space = 40;\r\n    } else {\r\n      space += 40;\r\n    }\r\n\r\n    var parentWidth = innerWidth - space;\r\n    var parentHeight = innerHeight - space;\r\n\r\n    const target = document.querySelector(\".section-content\");\r\n\r\n    var targetWidth = target.offsetWidth;\r\n    var targetHeight = target.offsetHeight;\r\n\r\n    // Calculate the scale factors\r\n    var scaleX = parentWidth / targetWidth;\r\n    var scaleY = parentHeight / targetHeight;\r\n\r\n    // Use the smaller scale factor to ensure the child fits within the parent\r\n    var scaleValue = Math.min(scaleX, scaleY);\r\n\r\n    // Apply the scale transformation to the child element\r\n    this.scale(scaleValue);\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/scale.js?\n}");

/***/ }),

/***/ "./js/state.js":
/*!*********************!*\
  !*** ./js/state.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   State: () => (/* binding */ State)\n/* harmony export */ });\nconst State = function (options) {\r\n  var scope = this;\r\n  var defaults = {\r\n    maxItems: 1000,\r\n    hooks: {},\r\n  };\r\n  this.options = Object.assign({}, defaults, options || {});\r\n  this._state = this.options.state || [];\r\n  this._active = null;\r\n  this._activeIndex = -1;\r\n\r\n  this.hasNext = false;\r\n  this.hasPrev = false;\r\n\r\n  this.state = function (state) {\r\n    if (!state) {\r\n      return this._state;\r\n    }\r\n    this._state = state;\r\n    return this;\r\n  };\r\n  var _e = {};\r\n  this.on = function (e, f) {\r\n    _e[e] ? _e[e].push(f) : (_e[e] = [f]);\r\n  };\r\n  this.dispatch = function (e, f) {\r\n    _e[e]\r\n      ? _e[e].forEach(function (c) {\r\n          c.call(this, f);\r\n        })\r\n      : \"\";\r\n  };\r\n\r\n  this.active = function (active) {\r\n    if (!active) {\r\n      return this._active;\r\n    }\r\n  };\r\n\r\n  this.activeIndex = function (activeIndex) {\r\n    if (!activeIndex) {\r\n      return this._activeIndex;\r\n    }\r\n  };\r\n\r\n  this._timeout = null;\r\n  this.timeoutRecord = function (item) {\r\n    clearTimeout(this._timeout);\r\n    this._timeout = setTimeout(\r\n      function (scope, item) {\r\n        scope.record(item);\r\n      },\r\n      333,\r\n      this,\r\n      item\r\n    );\r\n    return this;\r\n  };\r\n\r\n  var recentRecordIsEqual = function (item) {\r\n    const curr = scope._state[0];\r\n    if (!curr || curr.$initial) return false;\r\n    for (var n in item) {\r\n      if (curr[n] !== item[n]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  var _paused = false;\r\n\r\n  this.paused = function (state) {\r\n    if (typeof state === \"undefined\") {\r\n      return _paused;\r\n    }\r\n    _paused = state;\r\n    return this;\r\n  };\r\n\r\n  this.pause = function () {\r\n    this.paused(true);\r\n    return this;\r\n  };\r\n  this.unpause = function () {\r\n    this.paused(false);\r\n    return this;\r\n  };\r\n\r\n  this.record = function (item) {\r\n    if (this.paused()) {\r\n      return this;\r\n    }\r\n    if (\r\n      this.options.interceptors &&\r\n      typeof this.options.interceptors.beforeRecord === \"function\"\r\n    ) {\r\n      if (\r\n        !this.options.interceptors.beforeRecord.call(this, item, this.state())\r\n      ) {\r\n        return this;\r\n      }\r\n    }\r\n    if (this._activeIndex > -1) {\r\n      var i = 0;\r\n      while (i < this._activeIndex) {\r\n        this._state.shift();\r\n        i++;\r\n      }\r\n    }\r\n    if (recentRecordIsEqual(item)) {\r\n      return;\r\n    }\r\n    this._state.unshift(item);\r\n    if (this._state.length >= this.options.maxItems) {\r\n      this._state.splice(-1, 1);\r\n    }\r\n    this._active = null;\r\n    this._activeIndex = -1;\r\n    this.afterChange(false);\r\n\r\n    this.dispatch(\"record\", [this.eventData()]);\r\n    return this;\r\n  };\r\n\r\n  this.actionRecord = function (recordGenFunc, action) {\r\n    this.record(recordGenFunc());\r\n    action.call();\r\n    this.record(recordGenFunc());\r\n  };\r\n\r\n  this.redo = function () {\r\n    this._activeIndex--;\r\n    this._active = this._state[this._activeIndex];\r\n    this.afterChange(\"stateRedo\");\r\n    this.dispatch(\"redo\");\r\n    return this;\r\n  };\r\n\r\n  this.undo = function () {\r\n    if (this._activeIndex === -1) {\r\n      this._activeIndex = 1;\r\n    } else {\r\n      this._activeIndex++;\r\n    }\r\n    this._active = this._state[this._activeIndex];\r\n    this.afterChange(\"stateUndo\");\r\n    this.dispatch(\"undo\");\r\n    return this;\r\n  };\r\n\r\n  this.hasRecords = function () {\r\n    return !!this._state.length;\r\n  };\r\n\r\n  this.eventData = function (action) {\r\n    return {\r\n      hasPrev: this.hasPrev,\r\n      hasNext: this.hasNext,\r\n      active: this.active(),\r\n      activeIndex: this.activeIndex(),\r\n      action,\r\n    };\r\n  };\r\n  this.afterChange = function (action) {\r\n    this.hasNext = true;\r\n    this.hasPrev = true;\r\n\r\n    if (action) {\r\n      if (this._activeIndex >= this._state.length) {\r\n        this._activeIndex = this._state.length - 1;\r\n        this._active = this._state[this._activeIndex];\r\n      }\r\n    }\r\n\r\n    if (this._activeIndex <= 0) {\r\n      this.hasPrev = false;\r\n    }\r\n    if (\r\n      this._activeIndex === this._state.length - 1 ||\r\n      (this._state.length === 1 && this._state[0].$initial)\r\n    ) {\r\n      this.hasNext = false;\r\n    }\r\n\r\n    if (action) {\r\n      this.dispatch(action, this.eventData());\r\n    }\r\n    if (action !== false) {\r\n      this.dispatch(\"change\", this.eventData(action));\r\n    }\r\n    return this;\r\n  };\r\n\r\n  this.reset = function () {\r\n    this._state = this.options.state || [];\r\n    this.afterChange(\"reset\");\r\n    return this;\r\n  };\r\n\r\n  this.clear = function () {\r\n    this._state = [];\r\n    this.afterChange(\"clear\");\r\n    return this;\r\n  };\r\n};\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/state.js?\n}");

/***/ }),

/***/ "./js/toolbar.js":
/*!***********************!*\
  !*** ./js/toolbar.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ \"./js/core.js\");\n/* harmony import */ var _icons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icons.js */ \"./js/icons.js\");\n\r\n\r\n\r\nconst Toolbar = (instance) => {\r\n  instance.toolbar = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.$$)(`\r\n       <div class=\"ir-toolbar-container\">\r\n             <div class=\"ir-toolbar\">\r\n                 <div>\r\n                    <nav class=\"ir-btn-menu\">\r\n                        <button class=\"ir-btn ir-btn-outline\" data-ref=\"undo\">${(0,_icons_js__WEBPACK_IMPORTED_MODULE_1__.icon)(\r\n                          \"undo\"\r\n                        )}</button>\r\n                        <button class=\"ir-btn ir-btn-outline\" data-ref=\"redo\">${(0,_icons_js__WEBPACK_IMPORTED_MODULE_1__.icon)(\r\n                          \"redo\"\r\n                        )}</button>\r\n                    </nav>\r\n                 </div>\r\n                 <div>\r\n                 <nav class=\"ir-btn-menu\">\r\n                     <button class=\"ir-btn ir-btn-outline\"  data-ref=\"fit\">fit</button>\r\n                     <div class=\"g-input-block \" style=\"width: 200px;\">\r\n                         <label>Zoom</label>\r\n                         <div data-ref=\"scaleInfo\"></div>\r\n                         <input type=\"range\" min=\"0.2\" max=\"3\" step=\"0.1\"  data-ref=\"scale\" value=\"1\" list=\"markers\">\r\n                         <datalist id=\"markers\">\r\n                             <option value=\"0.5\" label=\"50%\"></option>\r\n                             <option value=\"1\" label=\"100%\"></option>\r\n                             <option value=\"2\" label=\"200%\"></option>\r\n                             <option value=\"3\"></option>\r\n                         </datalist>\r\n                     </div>\r\n                     </nav>\r\n                 </div>\r\n             </div>\r\n         </div> \r\n    `);\r\n\r\n  instance.toolbar.undo.addEventListener(\"click\", () => {\r\n    instance.stateManager.undo();\r\n  });\r\n  instance.toolbar.redo.addEventListener(\"click\", () => {\r\n    instance.stateManager.redo();\r\n  });\r\n\r\n  instance.toolbar.fit.addEventListener(\"click\", () => {\r\n    instance.scale.fit();\r\n  });\r\n  instance.toolbar.scale.addEventListener(\"input\", (e) => {\r\n    instance.scale.scale(e.target.value);\r\n  });\r\n\r\n  instance.scale.on(\"change\", (data) => {\r\n    instance.toolbar.scaleInfo.textContent = `${data.percent}%`;\r\n  });\r\n\r\n  const buttonsState = () => {\r\n    instance.toolbar.undo.disabled = !instance.stateManager.state.hasNext;\r\n    instance.toolbar.redo.disabled = !instance.stateManager.state.hasPrev;\r\n  };\r\n\r\n  instance.stateManager.state.on(\"change\", buttonsState);\r\n\r\n  instance.stateManager.state.on(\"record\", buttonsState);\r\n\r\n  buttonsState();\r\n\r\n  return instance.toolbar;\r\n};\r\n\n\n//# sourceURL=webpack://pdf-editor/./js/toolbar.js?\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.js");
/******/ 	
/******/ })()
;